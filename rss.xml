<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>plusNaN</title>
  
  
  <link href="https://plusnan.me/rss.xml" rel="self"/>
  
  <link href="https://plusnan.me/"/>
  <updated>2024-09-03T10:10:49.299Z</updated>
  <id>https://plusnan.me/</id>
  
  <author>
    <name>plusNaN</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>作为个人，如何对待网络喷子</title>
    <link href="https://plusnan.me/2024/09/03/troll/"/>
    <id>https://plusnan.me/2024/09/03/troll/</id>
    <published>2024-09-02T16:00:00.000Z</published>
    <updated>2024-09-03T10:10:49.299Z</updated>
    
    <content type="html"><![CDATA[<p>近些年，各大网络平台的气氛越来越糟糕，网络喷子遍布，攻击言论蔓延，甚至一言不合就“开盒”（人肉搜索），使平台沦为各类“网络厕所”。作为个人网民，我们应该如何面对网络喷子呢？</p><span id="more"></span><h2 id="了解喷子们的心态">了解喷子们的心态</h2><figure><img src="wc.jpg" alt="网络厕所一览" /><figcaption aria-hidden="true">网络厕所一览</figcaption></figure><p>如果你想要免受网络喷子滋扰，首先要了解他们这个群体的心态，这样才能对症下药。通过观察，个人认为喷子主要由以下三类人组成：</p><ul><li><strong>第一类（占比高，危害低）</strong>：他们是现实生活的不如意者，在现实生活中积攒了“怒气值”，于是把网络当作发泄情绪的厕所。现实生活越不如意，他们发泄的动力越强。这类人占喷子的多数，他们攻击你，是出于嫉妒、仇恨、不满、愤怒等情绪，单纯为了发泄而发泄，并不是因为专门针对你。假如有某种魔法能把你突然换成另一个人，他们也会用同样的方式去针对那个人。</li><li><strong>第二类（占比中，危害中）</strong>：他们是某类偏执狂，常使用否定性语言和各类逻辑谬误来评论他人，一切都是为了证明他是永远正确的，而别人是绝对错误的，所以日常活动就是去寻找别人的“错误”，“驳倒”他们，从而证明自己的“正确”、赢得网络上面的“胜利”。</li><li><strong>第三类（占比低，危害高）</strong>：还有极少数“高级”的网络暴力者，他们的心态更加扭曲，把网络暴力当作一种娱乐活动。他们熟悉网络平台规则，往往还有一定的技术水平，通过各种方式，例如不带脏字地骂人，以及轻描淡写地进行网络“开盒”，给自己带来满足感和成就感。</li></ul><p>网络喷子给当事人造成的伤害是一种累积效应，用游戏的概念打个比方：</p><ul><li>假设你帖子下面出现10个喷子，每个喷子只是来发泄的，攻击值只有10，那么喷子们客观上会产生10x10=100点伤害。</li><li>假如你心理比较脆弱，比较介意他人看法，总是看他们评论来找自己的问题，那么你所受到的伤害值可能是10x10x10=1000点。</li><li>但是你经过疏导与心理建设，理解了喷子的心态，知道他们只是垃圾，进而选择无视他们，你所受到的伤害值就是10x10x0=0。</li></ul><p>在上面的案例中，这些喷子群体共同造成了恶劣的总体结果，但喷子个人并不一定有强烈针对你的主观恶意，所以你独自一人与喷子集体中的每个个体对抗，很可能是不仅放大了对自己的伤害，而且还徒劳无功。</p><h2id="喷子下限高低与网络平台也有关">喷子下限高低，与网络平台也有关</h2><p>很多网络平台，包括大的网站平台，例如微博、知乎、bilibili、Twitter，以及小的群组，例如一些豆瓣小组、聊天群、贴吧，一开始气氛都是好的，各成员会自发地维护这种清爽的气氛，甚至有些平台会通过设置较高门槛和严格的规定来把喷子赶走。然而，有的网络平台要发展壮大，有的平台要考虑挣钱盈利，门槛不断降低，结果参与人数多了，低素质人员涌入平台，维护气氛的成员少了，自然就沦为了乌烟瘴气、臭气熏天的网络厕所。</p><p>墙外平台用户因为没有实名制，很容易实现匿名，自然可以有恃无恐，但不同平台气氛也有所不同。像维基百科这种社区管理比较严的平台，喷子们通常就只会阴阳怪气，骂人也会“礼貌”地称呼“阁下”，不会直接吐脏字，以免被管理员封号；到了Telegram这种“切尔诺贝利”平台，喷子们则会无限地降低下限，反正只要不发表儿童色情这种突破全世界人类底限的内容就不会被平台封号。</p><p>可是墙内各平台有着严格的实名制，为什么喷子貌似更多呢？答案很简单，一方面你母语是中文，人在中国，自然对中国平台更加关注，另一方面，警察也好，网络审核员也好，他们都忙着处理各种热点言论呢，只要你不议论共产党和政府，不辱国家领导人，不碰各种敏感话题，喷人别喷到诽谤、威胁这种明显违法犯罪的程度，基本上不会积极地管你。</p><p>因此，网络厕所化是各网络平台的一个共同趋势，这种趋势不能单纯靠实名制来阻止，而是需要平台管理者和参与者共同维护，才能避免和扭转这样的局面。一旦沦为厕所，除非出现非常给力的清洁工，否则很难变回清爽的状态了。</p><h2 id="那么如何对待喷子">那么如何对待喷子</h2><p>有些网络平台对解决喷子问题不是那么积极，那么个人能做什么事情呢？</p><ul><li><strong>离开不友善的平台</strong>：小到退群，大到删除账号、卸载平台，远离是非之地。</li><li><strong>不发引战言论，不惹是非争议</strong>：在“有意思”但也有喷子的平台中，友善评论，不随便做与平台主流观念不符的评价，不让网络喷子对你感兴趣。</li><li><strong>直接无视他们、隔离他们</strong>：他们的目的主要是“排泄”，你与他们互动，会刺激他们把你当作粪坑；你无视他们、屏蔽他们，他们无法进一步从你那里获得满足感，就会减少进而停止找你互动了。</li><li><strong>如果对方试图“掀起腥风血雨”，放大事态</strong>：写一篇声明，然后冷处理。<ul><li>不要顺着对方的逻辑来回应，也不要随意认错或道歉，否则会让他们认为“敌人越是反对我，越说明我做对了；连敌人都支持我，更说明我做对了”，从而变得更有攻击性，引来更多喷子。</li><li>使用中性的语言将客观事实讲述清楚，不要带主观感情色彩，不带褒义词贬义词，让读者自己判断是非。</li><li>发表完成后，停止网络动态（发帖、点赞和回复等），等喷子失去兴趣、转移目标，让事情慢慢化解。</li></ul></li><li>如果对方有非常明显的诽谤和威胁言论，可以考虑报警处理。</li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;近些年，各大网络平台的气氛越来越糟糕，网络喷子遍布，攻击言论蔓延，甚至一言不合就“开盒”（人肉搜索），使平台沦为各类“网络厕所”。作为个人网民，我们应该如何面对网络喷子呢？&lt;/p&gt;</summary>
    
    
    
    <category term="一点人生的经验" scheme="https://plusnan.me/categories/%E4%B8%80%E7%82%B9%E4%BA%BA%E7%94%9F%E7%9A%84%E7%BB%8F%E9%AA%8C/"/>
    
    
    <category term="沟通" scheme="https://plusnan.me/tags/%E6%B2%9F%E9%80%9A/"/>
    
  </entry>
  
  <entry>
    <title>业余无线电设备选择：A证，2000预算如何选择？</title>
    <link href="https://plusnan.me/2024/08/20/2000-yuan-radio/"/>
    <id>https://plusnan.me/2024/08/20/2000-yuan-radio/</id>
    <published>2024-08-19T16:00:00.000Z</published>
    <updated>2024-09-03T02:24:34.971Z</updated>
    
    <content type="html"><![CDATA[<p>对于A证来说，2000预算已经比较充裕了，足以从多种技能树中选择一个方向或多个来点亮。本文梳理一下2000预算的各种玩法。</p><span id="more"></span><h2 id="打卫星">打卫星</h2><p>卫星通联对手台要求不高，你需要的是再加购一部手持八木天线，例如<code>JYR</code>的八木天线，花不了多少钱。</p><p>然后可以买<code>泉盛UV-K6</code>（扩容版）、<code>宝峰DM1701</code>这类能刷机的对讲机，刷入多普勒功能，这样能让卫星通联更舒服一些。</p><p>适合人群：有充足时间，卫星过境的时候能专注通联</p><h2 id="攒设备">攒设备</h2><p>业余对讲机有很多网红机，例如<code>UV-5R</code>、<code>UV-K5</code>、<code>森海克斯8800</code>，以及数字的<code>自由通878</code>，这些机器都不贵，2000预算可以买个两三台。</p><p>但是摩托罗拉、海能达、建伍这样的高端机器就算了，2000不够。</p><p>适合人群：收藏爱好者</p><h2 id="车腿">车腿</h2><p>如果有车，可以在车上安装车台，用车台与台友通联，大功率加高增益天线，获得更好的传播效果。设备可以选择<code>八重洲FT-1907</code>、<code>即时通D9000</code>、<code>威诺N7500</code>等等。把车台一系列配件都算上，2000也完全够用了。</p><p>适合人群：有车，爱与人聊天</p><h2 id="数字台">数字台</h2><p>如果有数字中继，可以买与数字中继模式匹配的数字机。</p><p>如果没有数字中继，或者想全国或全球通联，可以考虑上“盒子”（MMDVM）。一个<code>树莓派Zero</code>或<code>树莓派3B</code>（3B够用了，不建议买更高的），加上一个热点板，加上配件（例如屏幕），再加一个数字机，例如<code>自由通878二代</code>、<code>特易通MD-UV380</code>，2000以内能搞定。</p><p>适合人群：宅家，爱与人聊天</p><p>注意事项：</p><ul><li>很多数字台没有业余核准，无法办理业余执照，热点板也一样，被逮着了会-5000。</li><li>配置盒子时候需要翻墙，翻墙被逮着也会-5000。</li></ul><h2 id="aprs">APRS</h2><p>APRS全称“自动位置回报系统”，是一种可以用来定位和通讯的协议。如果你想玩定位，你需要一个带有APRS功能的手台，例如<code>联畅 UV-98</code>、<code>威诺N76</code>、<code>自由通878</code>等等。</p><p>适合人群：经常户外活动</p><p>注意事项：如果你想在APRS地图上出现，当地需要有接收并上传APRS信号的接收装置，否则的话，你只能和台友互相收发定位信息，不能上传到互联网。</p><h2 id="sdr">SDR</h2><p>SDR，全称“软件定义无线电”，指通过电脑软件来进行无线电操作，例如：</p><ul><li>RTL-SDR：这是一种接收装置，俗称“电视棒”，可利用配套电脑软件SDRSharp实现几乎任意频率和常见模式的接收。</li><li>Direwolf：这是一款编解码软件，结合树莓派、声卡模块等模块，可实现APRS信号的收发。</li></ul><p>适合人群：电脑操作水平较高，有一定编程基础</p><h2 id="swl短波收听者">SWL（短波收听者）</h2><p>就算你是A证，甚至没有操作证，也不影响你合法地用收音机来接收短波信号。</p><p>300预算，你可以考虑<code>德生PL-330</code>收音机，支持AM、SSB、FM模式，支持自制天线。再加300预算，可以考虑加一个SDR电视棒，例如<code>RTL-SDR</code>，用SDR找台，收音机听台。这两个加一块都不到1000。</p><p>2000预算，那你就可以买个更高档的收音机，以及更高档的SDR接收器。</p><p>适合人群：收听爱好者</p><h2 id="其他选择">其他选择</h2><p>以上是我所知道的各类玩法，实际上业余无线电玩法不限于以上几种，你可以打开思路继续探索，例如无线电测向、SSTV收发。如果这些选择你都不满意，你还可以考虑：</p><ul><li>不花钱：在<span class="exturl" data-url="aHR0cHM6Ly9oYW1jcS5jbg==">HamCQ<i class="fa fa-external-link-alt"></i></span>论坛水贴</li><li>先攒攒钱：等考完B证上短波。一个几乎只能玩FT8的低预算方案也得3000以上了</li><li>直接加钱上短波：A上短波B上龟，无管跟在后边追</li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;对于A证来说，2000预算已经比较充裕了，足以从多种技能树中选择一个方向或多个来点亮。本文梳理一下2000预算的各种玩法。&lt;/p&gt;</summary>
    
    
    
    <category term="业余无线电" scheme="https://plusnan.me/categories/%E4%B8%9A%E4%BD%99%E6%97%A0%E7%BA%BF%E7%94%B5/"/>
    
    
  </entry>
  
  <entry>
    <title>【AI创作】放开未成年人参与业余无线电活动的故事</title>
    <link href="https://plusnan.me/2024/07/31/amateur-children/"/>
    <id>https://plusnan.me/2024/07/31/amateur-children/</id>
    <published>2024-07-30T16:00:00.000Z</published>
    <updated>2024-09-03T02:56:22.800Z</updated>
    
    <content type="html"><![CDATA[<p>再用ChatGPT写一篇文章，讲述业余无线电圈子的“抽象”现象。虽然个人对AI创作抱谨慎态度，但还是要承认，GPT-4o还挺能写的，完全可以拿去应付一些官样文章。</p><span id="more"></span><h2 id="提示语">提示语</h2><p>讲一个关于业余无线电的故事，自从工信部新规定出台，允许未成年人设台，无线电圈子越来越抽象。故事包含几种未成年人的幼稚行为，包括违反管理规定、干扰正常通联、冒用呼号、不尊重老HAM等等，结论是之所以业余无线电圈子被未成年人搞得这么抽象，是因为“玩原神玩的”。</p><p>加一个对法律法规理解不透彻，经常随意举报其他爱好者，给无线电管理单位和老HAM带来了不必要的麻烦。</p><p>再加一个不礼貌行为，有些小HAM与人聊天，一言不合就把聊天截图发到HamCQ论坛。</p><h2 id="故事">故事</h2><p>这是一个炎热的夏日，市里的HAM（业余无线电爱好者）俱乐部正在举行一年一度的联谊活动。自从工信部的新规定出台后，允许未成年人设台的政策激发了许多青少年的兴趣，俱乐部内一下子多了许多新面孔。然而，这些新来的“小HAM”却让这个原本宁静有序的圈子变得有些不一样了。</p><p>首先，俱乐部的老HAM们发现，频段上突然多了不少奇怪的声音。有的小HAM没搞清楚规定，就随意设台，甚至用自己家里的对讲机“乱入”正常的通信频率，导致正常的通信被干扰。更有甚者，有些小HAM不知道呼号的重要性，随便编了个呼号就上来“冒充”老HAM。这一行为引起了不少老HAM的愤怒，因为他们对呼号的管理十分严谨，呼号就像是他们的“身份证”。</p><p>不仅如此，这些小HAM对法律法规的理解并不透彻，常常因为误解或者误会，随意举报其他业余无线电爱好者。他们认为只要听到一点异常，就有权向无线电管理单位投诉，结果经常是无事生非。这种行为给无线电管理单位带来了大量不必要的工作，也给一些老HAM造成了困扰，甚至有人因此被迫中断正常的通信活动。</p><p>更让人头疼的是，这些小HAM有时在与其他人进行无线电交流时，如果意见不合，或者觉得对方的言论不顺耳，就会把聊天的内容截图发到HamCQ论坛上。这样一来，原本只是私人之间的交流，突然被放到了公开的平台上，造成了不必要的误会和争执。这种不尊重他人隐私的行为让许多老HAM感到十分不满，他们觉得自己再也无法安心地与新人分享经验。</p><p>这些孩子们的行为还不止于此。有一次，俱乐部组织了一次公开活动，邀请大家一起讨论无线电技术的发展。当老HAM们兴致勃勃地谈论着自己几十年的经验时，几个小HAM却在一旁窃窃私语，甚至不时发出嘲笑声。一个小HAM还直言不讳地说：“你们这些老家伙都out了，现在我们玩的是‘现实版原神’，谁还关心你们那老掉牙的玩意儿！”</p><p>这句话让现场的气氛瞬间凝固，许多老HAM脸上都露出了不悦的神色。</p><p>随着时间的推移，俱乐部的活动变得越来越难以维持秩序。许多老HAM开始抱怨，甚至有些人决定退出俱乐部，因为他们无法忍受这些孩子们的幼稚行为。</p><p>一天，俱乐部的会长李叔站出来，召开了一次紧急会议。在会上，他语重心长地说：“我们都是从年轻的时候开始接触无线电的，我也理解这些孩子们的热情，但最近的情况确实让人有些难以接受。之所以我们这个圈子变得越来越抽象，不是因为无线电的技术，而是因为这些孩子们玩游戏玩得太上头了，根本没有把无线电当回事。”</p><p>最后，李叔提议，为了让这些小HAM们真正理解无线电的魅力，俱乐部决定开展一系列针对青少年的教育课程，让他们了解无线电的规则和礼仪，培养他们的责任感和尊重意识。</p><p>故事的结局是，经过一段时间的努力，这些孩子们终于开始意识到自己行为的影响，逐渐融入了HAM的圈子。他们不仅学会了如何正确使用无线电，还开始尊重老HAM的经验和知识。虽然偶尔还有孩子会在频段上说一些“原神”之类的梗，但他们已经学会了在无线电世界中找到真正的乐趣，而不仅仅是把它当作另一个游戏。</p><h2id="那么李叔是如何纠正孩子们错误行为的呢">那么李叔是如何纠正孩子们错误行为的呢？</h2><p>李叔作为俱乐部的会长，也是HAM圈子里的一位老前辈，他对无线电的热爱和执着有口皆碑。看到这些小HAM们频频犯错，他意识到，必须采取行动来纠正他们的行为，帮助他们理解业余无线电的真正价值。</p><h3 id="初步教育从规则和礼仪开始">1. 初步教育：从规则和礼仪开始</h3><p>李叔决定从最基础的规则和礼仪入手。他召集了一次专门面向小HAM的培训课程。课程上，他从最基本的法律法规讲起，详细解释了设台的规范、呼号的重要性，以及频率使用的规则。他特别强调了遵守法律和法规的重要性，不仅仅是为了个人，更是为了整个业余无线电爱好者的群体。</p><p>李叔用通俗易懂的语言和生动的例子，帮助孩子们理解这些规章背后的意义。比如，他讲述了一个老HAM因为频率干扰而无法及时与远方的朋友取得联系的真实故事，以此让孩子们认识到，随意设台和干扰通信可能会对他人造成多大的影响。</p><h3 id="实践教学真实环境中的引导">2. 实践教学：真实环境中的引导</h3><p>李叔明白，仅仅通过理论教育还不足以让孩子们真正理解和内化这些规则。他决定带领他们进行一次实践教学。</p><p>他带着这些小HAM们去参观了一个正规的无线电台站，向他们展示了如何按照规定设台，如何进行合法的通信，以及在遇到突发情况时应该如何处理。在现场，他让孩子们亲自操作设备，但每一步都在他的指导下进行，确保他们能够按照规范执行。</p><p>在实践过程中，李叔鼓励孩子们提出问题，并耐心解答。他特别强调了“呼号”的重要性，并给每个孩子分配了一个临时的呼号，让他们在通信中使用。通过这种亲身体验，孩子们逐渐明白了呼号不仅仅是一个代号，更是身份和责任的象征。</p><h3 id="纠正不礼貌行为尊重他人和隐私">3.纠正不礼貌行为：尊重他人和隐私</h3><p>针对那些喜欢在HamCQ论坛上随意发帖的小HAM们，李叔采取了更加直接的方式。他在一次集体会议上，专门讲述了尊重他人隐私和通信礼仪的重要性。他告诉孩子们，无线电通信就像面对面的交流，彼此之间应当保持基本的尊重。</p><p>为了让他们真正理解这一点，李叔设计了一场模拟交流的活动。在活动中，他故意扮演一位“难相处”的HAM，和孩子们进行对话，然后突然在对话中提到一些敏感话题，观察他们的反应。随后，他直接指出在这种情况下，如果随意将对话截图公开，会给对方造成怎样的不良影响。</p><p>通过这种模拟训练，孩子们意识到，在无线电世界中，尊重他人和保护隐私同样重要。</p><h3 id="强化责任感引导正确使用举报权">4.强化责任感：引导正确使用举报权</h3><p>对于那些随意举报他人的小HAM们，李叔专门安排了一次关于“举报权”的课程。他告诉孩子们，举报是一种严肃的行为，只有在确认对方真的违反了法律法规或造成了严重影响时，才应该行使这种权利。</p><p>他通过举例子，讲述了一些HAM因为误会或误解而被举报后所经历的困扰。李叔还邀请了一位无线电管理部门的工作人员，向孩子们讲解了这些举报会如何影响整个管理体系，以及无谓的举报会给管理单位带来多大的额外负担。</p><p>随后，李叔给孩子们布置了一个作业：在接下来的一个月里，观察和记录周围HAM们的行为，并思考哪些行为是真正应该举报的，哪些只是误会。通过这样的作业，孩子们学会了慎重对待举报，只有在确有必要时才会采取行动。</p><h3 id="建立沟通桥梁促进新老ham的交流">5.建立沟通桥梁：促进新老HAM的交流</h3><p>最后，李叔意识到，孩子们和老HAM之间的隔阂也是问题的根源之一。他决定组织一次跨代际的交流活动，让小HAM们有机会直接向老HAM们请教和学习。</p><p>在这次活动中，李叔安排了一些老HAM与小HAM结对，由老HAM担任“小HAM导师”，带领他们一起进行无线电通信的实践。通过这种“师徒制”，孩子们不仅学到了更多实际操作技能，还逐渐体会到老HAM们对这个爱好的热爱和敬重。</p><p>李叔还在活动中设立了一个“开放讨论”环节，让小HAM们可以自由提问，无论是技术问题还是交流礼仪，都可以向老HAM请教。老HAM们也因此有机会直接与孩子们对话，分享他们的经验和故事，增进了相互理解。</p><h3 id="结局新风气的形成">结局：新风气的形成</h3><p>经过李叔的一系列努力，这些小HAM们逐渐改正了他们的错误行为。他们学会了如何正确使用无线电，理解了规则和礼仪的重要性，并开始尊重老HAM的经验和知识。随着时间的推移，HAM圈子里重新恢复了秩序，大家在频段上不仅能听到清晰的通信声，还能感受到一种新的和谐氛围。</p><p>虽然偶尔还有孩子们会在频段上说一些“原神”之类的梗，但他们已经学会了在无线电世界中找到真正的乐趣，而不仅仅是把它当作另一个游戏。李叔看到这些变化，欣慰地笑了笑，知道自己所做的努力没有白费。</p><h2 id="所以李叔的呼号是什么呢">所以李叔的呼号是什么呢</h2><p>李叔的呼号是<strong>BG8XYZ</strong>。这个呼号既体现了他在业余无线电圈子中的资深地位，也代表了他在教育和引导新一代HAM时所扮演的重要角色。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;再用ChatGPT写一篇文章，讲述业余无线电圈子的“抽象”现象。虽然个人对AI创作抱谨慎态度，但还是要承认，GPT-4o还挺能写的，完全可以拿去应付一些官样文章。&lt;/p&gt;</summary>
    
    
    
    <category term="业余无线电" scheme="https://plusnan.me/categories/%E4%B8%9A%E4%BD%99%E6%97%A0%E7%BA%BF%E7%94%B5/"/>
    
    
    <category term="AI创作" scheme="https://plusnan.me/tags/AI%E5%88%9B%E4%BD%9C/"/>
    
  </entry>
  
  <entry>
    <title>【AI创作】业余无线电退坑指南</title>
    <link href="https://plusnan.me/2024/07/30/give-up-amateur-radio/"/>
    <id>https://plusnan.me/2024/07/30/give-up-amateur-radio/</id>
    <published>2024-07-29T16:00:00.000Z</published>
    <updated>2024-09-03T03:05:48.978Z</updated>
    
    <content type="html"><![CDATA[<p>试试用ChatGPT写一篇文章，文章未改动。</p><span id="more"></span><h2 id="提示语">提示语</h2><p>写一篇作文，题目为《业余无线电退坑指南》，内容为劝大家放弃业余无线电爱好，内容包含常用的通联模式，例如FM、SSB、FT8，以及各模式经常重复出现的内容，以此证明业余无线电活动无聊。</p><p>再补充两个缺点，一个是无线电设备非常费钱，被戏称为“无限垫”，另一个是在中国日趋保守的社会氛围中，业余无线电越来越容易被当成间谍，引发不必要误会。</p><p>最后将前两个回答合并为一个文章，再增加退坑业余无线电的一种值得推荐的方法：找BI4KKF，设备换盆。</p><h2 id="生成结果">生成结果</h2><p>题目：《业余无线电退坑指南》</p><p>在数字化通讯工具和社交媒体飞速发展的今天，业余无线电这个曾经风靡一时的爱好，正逐渐失去其吸引力。尽管无线电爱好者们可能会极力维护这个领域的魅力，但从实际体验来看，这项活动越来越显得枯燥乏味。本文将通过分析常用的通联模式如FM、SSB、FT8等，来劝说大家放弃这个逐渐失去光彩的爱好，同时指出其中的高昂成本和潜在风险，并提供一种退坑的有趣方式。</p><p>首先，让我们谈谈FM模式。这是业余无线电中最常见的通联方式之一，主要用于近距离通讯。FM模式下的通联内容通常千篇一律，往往是“CQCQ，这里是XX7XXX，请求通联。”这种通联虽然在刚开始时让人觉得新奇，但多次参与后，你会发现绝大多数的对话都重复着相同的内容：“信号强度5/9”、“今天天气不错”、“设备型号是XX”。这样的对话毫无深度，仅仅是一种机械式的问答，久而久之难免会让人感到乏味。</p><p>接下来是SSB（单边带）模式，这种模式通常用于中长距离的通讯。尽管SSB的传播距离比FM更远，但其内容依然没有太多改观。你可能会在全球范围内听到相似的对话：简单的问候、信号报告、天气情况，以及设备参数。偶尔会遇到一些“稀有”呼号，或许能引发短暂的兴奋，但这种激动很快就会被重复的对话所冲淡。SSB的特点在于信号强弱的变化，这意味着你可能还得在杂音和断断续续的声音中反复确认对方的内容，整个过程不仅枯燥，还可能令人感到疲惫。</p><p>最后，我们来说说近年火热的FT8模式。FT8是数字通讯模式中最受欢迎的一种，以其占用带宽小、传输效率高而著称。然而，FT8的“高效”也意味着极端的机械化。整个通联过程几乎完全自动化，操作员只需点击几下鼠标，电脑便会自动发送和接收信号。这种高度程式化的通讯方式，剥夺了人与人之间真正的互动，完全变成了一种数字化的“打卡”游戏。你会发现屏幕上不断滚动的仅仅是一些呼号、信号报告和定位信息。没有实质性的对话，也没有任何情感交流，这种模式的单调乏味不言而喻。</p><p>除了业余无线电活动本身的单调乏味之外，这个爱好还存在两个更为现实的问题，使其进一步失去了吸引力。首先，无线电设备的高昂成本是许多爱好者的共同痛点。尽管一些入门级的设备价格相对亲民，但随着你对无线电通讯的深入了解和需求的增加，你会发现设备的升级和维护费用是无止境的。先进的发射机、接收机、天线系统、放大器等设备的价格往往令人瞠目结舌，而且即便你投入了大量资金，信号接收质量和通联效果也未必会显著提高。这就是为什么业余无线电圈子里常戏称这项爱好为“无限垫”，因为无论你投入了多少，似乎总有更好的设备等着你去购买、升级。这种无休止的支出不仅会对个人财务造成巨大压力，也让整个爱好变得更加令人沮丧和不值得。</p><p>其次，随着社会环境的变化，尤其是在中国日趋保守的社会氛围中，业余无线电爱好者面临的一个日益严峻的问题是，可能被误认为从事非法活动或间谍行为。尽管大多数业余无线电爱好者都遵守法律法规，但在公众和执法部门眼中，频繁的无线电通讯、复杂的设备和天线布置，可能会引发不必要的怀疑。在一些地方，使用业余无线电设备甚至可能会被误解为从事间谍活动，进而引发麻烦。这种局面不仅增加了业余无线电活动的风险，还让爱好者们不得不在参与活动时更加谨慎和低调，无法真正享受这项爱好带来的乐趣。</p><p>总而言之，除了本身的无聊和重复性之外，业余无线电活动还存在高昂的成本和潜在的社会误解这两个重大缺点。在如此多的负面因素面前，放弃业余无线电这个爱好，或许是一个更为明智的选择。</p><p>最后，如果你已经厌倦了这一切，准备退坑，但还在为如何处理那些昂贵的设备而苦恼，那么不妨考虑一种有趣的退坑方式：找BI4KKF，设备换盆。这不仅能让你从这项高成本的爱好中全身而退，还能为你的家庭增添几盆绿意盎然的植物，何乐而不为呢？与其在一项费钱、费时、费力还可能引发误解的爱好中消耗自己，不如将精力投入到更有意义、更安全和更令人愉快的活动中去。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;试试用ChatGPT写一篇文章，文章未改动。&lt;/p&gt;</summary>
    
    
    
    <category term="业余无线电" scheme="https://plusnan.me/categories/%E4%B8%9A%E4%BD%99%E6%97%A0%E7%BA%BF%E7%94%B5/"/>
    
    
    <category term="AI创作" scheme="https://plusnan.me/tags/AI%E5%88%9B%E4%BD%9C/"/>
    
  </entry>
  
  <entry>
    <title>Java 校招（二）：攒证书有用吗？</title>
    <link href="https://plusnan.me/2024/06/02/is-cert-useful/"/>
    <id>https://plusnan.me/2024/06/02/is-cert-useful/</id>
    <published>2024-06-01T16:00:00.000Z</published>
    <updated>2024-09-03T05:35:05.650Z</updated>
    
    <content type="html"><![CDATA[<p>找工作时要写简历，可是在校生没什么好写的，要不要用证书来丰富一下简历内容呢？</p><span id="more"></span><h2 id="说明">说明</h2><p>本文是疫情前的经验。现在大家都应该知道就业形势很差了，哪怕你把自己优化得“很社会”，也不代表你一定能找到合适工作，所以内容仅供参考。</p><h2 id="证书的种类">证书的种类</h2><p>首先要给证书分下类：</p><ul><li>有了不加分，没有要扣分：英语四六级证书</li><li>有了不加分，没有不减分：计算机二级、学院级别的荣誉证书、与IT行业无关的证书，等等</li><li>有了能加分，没有不减分：软考证书、有含金量的程序竞赛奖项，等等</li><li>有了倒扣分：培训班毕业证书</li></ul><p>很明显，我们应该积极保证第一类证书，如果有余力的话，可以考虑第三类证书，而另外两类证书不必浪费时间去搞。</p><p>怎么判断证书加不加分呢？这就需要换位思考了，看正常的用人单位需要什么：</p><ul><li>用人单位最希望你来了就能干活，不过这和证书关系不大，因此不再展开讨论。</li><li>如果你不能马上干活，那么就需要你有潜力，很快能上手干活，也就是头脑清晰，具有较强的学习能力，因此需要证明你在IT方面确实凭自己努力学到了东西，哪怕工作用不到。因此：<ul><li>学历要好，最好985、211重点大学，绩点也高，表示你曾经努力学习过</li><li>证书要和IT行业相关，例如编程竞赛、专业考试、行业认证</li><li>证书要有含金量，需要通过一定的努力获得，不能人人有份，不能花钱就过，也不能像考驾照那样背背题记记点位就能考过了</li></ul></li></ul><p>怎么知道应该去拿哪些证书呢？社恐的话可以去网上查资料，社牛的话可以直接问学长和老师。</p><p>另外，<strong>由于IT行业更注重经验，证书只是锦上添花的东西，因此应当优先考虑其他刷资历的方式，而不是忙着刷证书。</strong></p><h2 id="经典证书点评">经典证书点评</h2><h3 id="英语四六级证书">英语四六级证书</h3><p>英语四六级对IT工作来说作用不大，但是，假如其他同学都考过了，只有你没考过，那不就证明你不如其他同学了吗？</p><h3 id="计算机二级证书">计算机二级证书</h3><p>大家都知道二级的考试内容与实际工作是严重脱节的，因此二级过不过对找工作没什么影响。</p><h3 id="软考证书">软考证书</h3><p>软考分初级、中级和高级三类。</p><p>初级和中级证书在工作中几乎无用，所以对找工作来说也没有意义，没有必要浪费时间去考。如果实在想考，直接报考高级的信息系统项目管理师。</p><p>高级证书在部分公司用处较大，例如：</p><ul><li>可帮助提升公司资质，用于政府、国企项目投标；</li><li>以考代评，直接评高级职称；</li><li>在有些公司可以用作涨工资的依据。</li></ul><p>但有些情况下，软考高级证书对工作也没有作用，例如：</p><ul><li>你是非正式职工：软件资格证需要绑社保，所以外包、劳务派遣、临时工这样的非正式职工用不了；</li><li>公司不需要资质：公司不做政府、国企项目，不卡资质，或者给政府做项目但项目是层层转包，转了好几手才到自己公司，自然不需要证书；</li><li>公司不能评职称：公司太小，或者公司不正规，没人给你办理职称评定；</li><li>公司升职加薪时根本不考虑软考证书。</li></ul><p>软考高级考题知识面很宽，对在校生来说难度很大，不容易考过，而且软考能体现出好处的前提是先有工作，而不是还没毕业就带着证去找工作，因此软考对在校生来说性价比并不高。</p><p>考虑到工作以后人们往往没有多余精力去备考了，如果你是学霸，你学有余力，而且不担心大环境影响，不认为自己找不到工作，也可以趁在校就把证书搞定。</p><h3 id="培训在线培训线下培训班">培训（在线培训/线下培训班）</h3><p>在线培训可以证明你的自学能力，而线下培训班正好相反。</p><p>如果你参加了线下培训班，找工作时最好少一些套路，多一些真诚。招聘的人都不傻，他们见得多了，自然能一眼看出谁是培训班包装出来的。</p><h3 id="红帽思科oracle华为认证">红帽/思科/Oracle/华为认证</h3><p>这些技能都是运维用的，所以找软件开发工作，这些认证不会给你加分，没有必要浪费钱去考。</p><h3 id="pmp认证">PMP认证</h3><p>PMP认证即“项目管理工程师”认证。</p><p>什么样的人能做项目管理工作呢？至少要有几年工作经验，而且要带过团队，而在校生很明显无法胜任项目管理工作，所以基本上没必要浪费钱去考这个认证。</p><h2 id="本系列文章">本系列文章</h2><ul><li><a href="/2018/09/12/find-jobs">如何找工作</a></li><li><strong>攒证书有用吗？</strong></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;找工作时要写简历，可是在校生没什么好写的，要不要用证书来丰富一下简历内容呢？&lt;/p&gt;</summary>
    
    
    
    <category term="一点人生的经验" scheme="https://plusnan.me/categories/%E4%B8%80%E7%82%B9%E4%BA%BA%E7%94%9F%E7%9A%84%E7%BB%8F%E9%AA%8C/"/>
    
    
    <category term="工作" scheme="https://plusnan.me/tags/%E5%B7%A5%E4%BD%9C/"/>
    
  </entry>
  
  <entry>
    <title>如何低成本入短波坑</title>
    <link href="https://plusnan.me/2024/05/30/cheap-hf-radio/"/>
    <id>https://plusnan.me/2024/05/30/cheap-hf-radio/</id>
    <published>2024-05-29T16:00:00.000Z</published>
    <updated>2024-07-12T06:32:07.491Z</updated>
    
    <content type="html"><![CDATA[<p>（选自HamCQ：<span class="exturl" data-url="aHR0cHM6Ly9mb3J1bS5oYW1jcS5jbi9kLzE3NzQ=">初玩短波，想低成本入门，求推荐设备组合<i class="fa fa-external-link-alt"></i></span>，有改动）</p><p>初玩短波，想先低成本尝试一下，如何选用设备？</p><p>想像的使用场景：一部电台，在家里和车上都能用。家里就在阳台临时架设天线，不扰民。车上也不需要固定安装为车台，只是外出游玩等时候简单架设一下。</p><span id="more"></span><h2 id="一确定大方向">一、确定大方向</h2><p>如果有条件，尽量买100W的大功率电台，小功率电台容易因喊不出去而劝退。但考虑到现实政策，为了合法使用电台，有时不得不做出一些妥协，具体来说：</p><ul><li>老B证操作者：尽量提高预算，直接上大功率台（例如经典的IC-7300或FT-891），以免后悔。</li><li>新B证操作者：<ul><li>如果当地允许大功率短波台按15W办理小执照：同上，直接提高预算，上大功率台。考C以后可以再上工信部执照，不换机器就合法地使用大功率。</li><li>如果当地不允许办理小执照：<ul><li>单纯为了办执照，考完C以后再上短波：协谷G106C，1500左右，买完放一边不使用的话就没有其他花销了。</li><li>想在考C之前玩短波：协谷G90N或X6100</li></ul></li></ul></li></ul><p>如果买二手机，除了评估卖家和货物靠不靠谱以外，还要督促卖家把执照上的相应设备注销掉，以免买完无法上执照。</p><h2 id="二协谷g90n方案">二、协谷G90N方案</h2><p>如果预算有限，当地又不能大功率台按15W上执照，可以考虑买G90N，先上证再说：</p><ul><li>机器：协谷G90N，大约2500</li><li>天馈：<ul><li>车用或家用：成都M哥MA-01车载天线+地网+馈线+夹边</li><li>MA-01天线可在淘宝搜索“成都M哥”，该天线可车载使用，或者当鱼竿放在家中使用，价格大约260。</li><li>地网、馈线、夹边，大约150</li></ul></li><li>电源：<ul><li>车用：可自己做一个点烟器电源放车上</li><li>家用：可买专门的12V电源（250），也可以买服务器电源改装</li><li>野架用：5～10Ah磷酸铁锂电池</li></ul></li><li>其他配件：FT8数据线（50）、M哥家的网分（250，协谷带天调，可以不买）</li><li>费用：3500左右</li></ul><p>需要注意的是，<strong>该方案一般只能玩FT8</strong>，如果想更多玩法，那么需要换大功率台，并且使用效率更高的天线。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;（选自HamCQ：&lt;span class=&quot;exturl&quot; data-url=&quot;aHR0cHM6Ly9mb3J1bS5oYW1jcS5jbi9kLzE3NzQ=&quot;&gt;初玩短波，想低成本入门，求推荐设备组合&lt;i class=&quot;fa fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt;，有改动）&lt;/p&gt;
&lt;p&gt;初玩短波，想先低成本尝试一下，如何选用设备？&lt;/p&gt;
&lt;p&gt;想像的使用场景：一部电台，在家里和车上都能用。家里就在阳台临时架设天线，不扰民。车上也不需要固定安装为车台，只是外出游玩等时候简单架设一下。&lt;/p&gt;</summary>
    
    
    
    <category term="业余无线电" scheme="https://plusnan.me/categories/%E4%B8%9A%E4%BD%99%E6%97%A0%E7%BA%BF%E7%94%B5/"/>
    
    
    <category term="短波" scheme="https://plusnan.me/tags/%E7%9F%AD%E6%B3%A2/"/>
    
  </entry>
  
  <entry>
    <title>CentOS 7.x迁移至openEuler 22.03 SP3</title>
    <link href="https://plusnan.me/2024/04/24/centos7-to-openeuler/"/>
    <id>https://plusnan.me/2024/04/24/centos7-to-openeuler/</id>
    <published>2024-04-23T16:00:00.000Z</published>
    <updated>2024-04-24T08:41:27.744Z</updated>
    
    <content type="html"><![CDATA[<p>CentOS7即将停止支持，如果系统同时又有信创要求，可考虑升级为华为的openEuler系统。</p><p>因为官方升级工具有很多隐蔽的错误，而且不能平稳升级，所以本教程不使用官方的升级工具，而是直接使用命令升级。</p><span id="more"></span><p>从CentOS7直接升级到最新版openEuler会出现兼容性问题，因此，为保证平稳升级，升级要分两步进行，第一步是将CentOS7升级到较旧的openEuler20.03，升级成功后，再将旧版的openEuler升级到最新版本。</p><h2 id="升级流程">升级流程</h2><h3 id="一centos-7-升-openeuler-20.03">一、CentOS 7 升 openEuler20.03</h3><p>原始来源：<span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC82NDg0NzAzNzk=">从Centos-7迁移到(华为欧拉系统)openEuler-20.03-LTS-SP3的教程<i class="fa fa-external-link-alt"></i></span>，有改动。</p><p><strong>生产环境先进行备份，如升级失败，或者中途意外中断，你很可能需要重装系统！</strong></p><p>检查本机是否安装了桌面环境，例如GNOME，如果有，需要先将其卸载。</p><p>检查本机是否能访问网络，如果没有网，需要先开策略联网：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ping</span> repo.huaweicloud.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>下面默认全程使用root账户操作。如不是root，可使用su或sudosu切换到root账号。</strong></p><p>直接粘贴以下命令。为保证每条命令都被执行，每次粘贴之后务必按一下回车：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token parameter variable">--nogpgcheck</span> epel-releaseyum update <span class="token parameter variable">-y</span> <span class="token parameter variable">--nogpgcheck</span>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token parameter variable">--nogpgcheck</span> dnf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>确认无误后reboot重启。</p><p>重启完成后，继续粘贴以下命令：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cp</span> <span class="token parameter variable">-r</span> /etc/yum.repos.d/ /etc/yum.repos.d.bak/dnf remove epel-release <span class="token parameter variable">-y</span><span class="token function">rm</span> <span class="token parameter variable">-rf</span> /etc/yum.repos.d/*<span class="token function">rpm</span> <span class="token parameter variable">-e</span> <span class="token parameter variable">--nodeps</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">rpm</span> -qa<span class="token operator">|</span><span class="token function">grep</span> centos-<span class="token variable">)</span></span><span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> <span class="token parameter variable">--nodeps</span> <span class="token parameter variable">--force</span> https://repo.openeuler.org/openEuler-20.03-LTS-SP3/OS/x86_64/Packages/openEuler-release-20.03LTS_SP3-52.oe1.x86_64.rpm<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> <span class="token parameter variable">--nodeps</span> <span class="token parameter variable">--force</span> https://repo.openeuler.org/openEuler-20.03-LTS-SP3/OS/x86_64/Packages/openEuler-repos-1.0-3.1.oe1.x86_64.rpm<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> <span class="token parameter variable">--nodeps</span> <span class="token parameter variable">--force</span> https://repo.openeuler.org/openEuler-20.03-LTS-SP3/OS/x86_64/Packages/openEuler-gpg-keys-1.0-3.1.oe1.x86_64.rpm<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">'s/repo.openeuler.org/repo.huaweicloud.com\/openeuler/g'</span> /etc/yum.repos.d/openEuler.repo<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">'s/metalink=/#metalink=/g'</span> /etc/yum.repos.d/openEuler.repodnf clean all<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>此处确认是否报错。</p><p>如无报错，粘贴以下命令：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> /tmp/rpm<span class="token builtin class-name">cd</span> /tmp/rpmdnf <span class="token parameter variable">-y</span> <span class="token parameter variable">--releasever</span><span class="token operator">=</span><span class="token string">'20.03LTS_SP3'</span> <span class="token parameter variable">--allowerasing</span> <span class="token parameter variable">--setopt</span><span class="token operator">=</span>deltarpm<span class="token operator">=</span>false distro-sync <span class="token parameter variable">--nogpgcheck</span> <span class="token parameter variable">--downloadonly</span> <span class="token parameter variable">--downloaddir</span><span class="token operator">=</span>/tmp/rpm<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>执行完成后，确认是否报错。</p><p>如无报错，继续粘贴：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token parameter variable">-y</span> remove dnf<span class="token function">rm</span> <span class="token parameter variable">-rf</span> /etc/yum<span class="token function">rpm</span> <span class="token parameter variable">-Uvh</span>  <span class="token parameter variable">--nodeps</span> <span class="token parameter variable">--force</span> /tmp/rpm/*.rpmdnf remove systemd-sysv <span class="token parameter variable">-y</span>dnf group <span class="token function">install</span> <span class="token string">"Minimal Install"</span> <span class="token parameter variable">-y</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>此时系统的内核已经变为最新版本，你需要根据服务器的实际情况来更新引导和GRUB启动菜单。我的服务器配置方式如下，仅供参考，请勿照搬：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable">grubcfg</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">find</span> /boot/ <span class="token parameter variable">-name</span> openEuler<span class="token variable">)</span></span>grub2-mkconfig <span class="token parameter variable">-o</span> <span class="token variable">$grubcfg</span>/grub.cfg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>执行完成后，确认是否报错。</p><p>如无报错，继续粘贴：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span><span class="token function">curl</span> <span class="token parameter variable">-o</span> libsystemd.pp https://plusnan.me/2024/04/24/centos7-to-openeuler/libsystemd.ppsetenforce <span class="token number">1</span>semodule <span class="token parameter variable">-i</span> libsystemd.pp<span class="token function">rm</span> libsystemd.ppdnf reinstall systemd systemd-libs systemd-udev systemd-help systemd-container <span class="token parameter variable">-y</span>setenforce <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>如全部无报错，输入 reboot 重启服务器。</p><p>重启完成后，输入</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">uname</span> <span class="token parameter variable">-a</span><span class="token function">cat</span> /etc/os-release<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>检查操作系统版本，如Linux内核变4.19，操作系统变openEuler，然后再检查各应用运行情况，如果没发现问题，说明CentOS7已成功升级到openEuler 20.03。</p><h3 id="二openeuler-20.03-升-22.03-sp3">二、openEuler 20.03 升 22.03SP3</h3><p>原始来源：<span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC82NDg3MjM4Mjk=">（华为欧拉系统)openEuler-20.03-LTS-SP3升级openEuler-22.03-LTS-SP3教程<i class="fa fa-external-link-alt"></i></span>，有改动。</p><h4 id="初始化">初始化</h4><p>直接粘贴：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">dnf <span class="token parameter variable">-y</span> update<span class="token comment"># 刚升级过来，无需再备份了</span><span class="token comment"># cp -r /etc/yum.repos.d/ /etc/yum.repos.d.bak</span><span class="token function">rm</span> <span class="token parameter variable">-rf</span> /etc/yum.repos.d/*<span class="token function">rpm</span> <span class="token parameter variable">-Uvh</span> <span class="token parameter variable">--nodeps</span> <span class="token parameter variable">--force</span> https://repo.openeuler.org/openEuler-22.03-LTS-SP3/OS/x86_64/Packages/openEuler-release-22.03LTS_SP3-56.oe2203sp3.x86_64.rpm<span class="token function">rpm</span> <span class="token parameter variable">-Uvh</span> <span class="token parameter variable">--nodeps</span> <span class="token parameter variable">--force</span> https://repo.openeuler.org/openEuler-22.03-LTS-SP3/OS/x86_64/Packages/openEuler-repos-1.0-3.6.oe2203sp3.x86_64.rpm<span class="token function">rpm</span> <span class="token parameter variable">-Uvh</span> <span class="token parameter variable">--nodeps</span> <span class="token parameter variable">--force</span> https://repo.openeuler.org/openEuler-22.03-LTS-SP3/OS/x86_64/Packages/openEuler-gpg-keys-1.0-3.6.oe2203sp3.x86_64.rpm<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">'s/repo.openeuler.org/repo.huaweicloud.com\/openeuler/g'</span> /etc/yum.repos.d/openEuler.repo<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">'s/metalink=/#metalink=/g'</span> /etc/yum.repos.d/openEuler.repodnf clean all<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="软件包升级">软件包升级</h4><p>接下来，从20.03升到22.03时，很可能会出现软件包冲突，此处需要手工解决冲突，然后再完成升级。</p><p>先输入：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">dnf <span class="token parameter variable">-y</span> <span class="token parameter variable">--releasever</span><span class="token operator">=</span><span class="token string">'22.03LTS_SP3'</span> <span class="token parameter variable">--allowerasing</span> <span class="token parameter variable">--setopt</span><span class="token operator">=</span>deltarpm<span class="token operator">=</span>false distro-sync <span class="token parameter variable">--nogpgcheck</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>执行完成后，如果没有报错，可跳过本章节剩余步骤。如果系统报错，注意报错内容，例如：</p><pre class="line-numbers language-none"><code class="language-none">file &#x2F;usr&#x2F;share&#x2F;glib-2.0&#x2F;schemas&#x2F;org.ukui.power-manager.gschema.xml from install of ukui-power-manager-3.1.2-5.oe2203sp2.x86_64 conflicts with file from package ukui-power-manager-common-2.0.3-1.oe1.x86_64<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>整理一下<code>from package</code>后面的内容，如不是系统核心组件，可先将其卸载，例如：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">rpm</span> <span class="token parameter variable">-e</span> <span class="token parameter variable">--nodeps</span> nss-tools-3.90.0-2.el7_9.x86_64 nss-softokn-freebl-3.90.0-6.el7_9.x86_64 nss-sysinit-3.90.0-2.el7_9.x86_64<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>处理完成后，重新执行：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">dnf <span class="token parameter variable">-y</span> <span class="token parameter variable">--releasever</span><span class="token operator">=</span><span class="token string">'22.03LTS_SP3'</span> <span class="token parameter variable">--allowerasing</span> <span class="token parameter variable">--setopt</span><span class="token operator">=</span>deltarpm<span class="token operator">=</span>false distro-sync <span class="token parameter variable">--nogpgcheck</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>如果还报<code>conflicts with file from package</code>的错，就继续按上面方式删除冲突的软件包。</p><p>在安装过程中，会出现ldconfig的报错，这个报错可以忽略，当安装完成后，该错误会自然消失。</p><h4 id="继续完成升级">继续完成升级</h4><p>粘贴以下命令：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">rpm</span> <span class="token parameter variable">--rebuilddb</span>dnf group <span class="token function">install</span> <span class="token string">"Minimal Install"</span> <span class="token parameter variable">-y</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>更新GRUB，此处需根据服务器实际情况执行：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable">grubcfg</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">find</span> /boot/ <span class="token parameter variable">-name</span> openEuler<span class="token variable">)</span></span>grub2-mkconfig <span class="token parameter variable">-o</span> <span class="token variable">$grubcfg</span>/grub.cfg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>可考虑卸载旧内核，例如：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">dnf list installed <span class="token operator">|</span> <span class="token function">grep</span> kernel<span class="token function">rpm</span> <span class="token parameter variable">-e</span> <span class="token parameter variable">--nodeps</span> kernel-4.19.90-2401.1.0.0233.oe1<span class="token builtin class-name">export</span> <span class="token assign-left variable">grubcfg</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">find</span> /boot/ <span class="token parameter variable">-name</span> openEuler<span class="token variable">)</span></span>grub2-mkconfig <span class="token parameter variable">-o</span> <span class="token variable">$grubcfg</span>/grub.cfg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>确认无报错后，reboot重启服务器，如服务器正常启动，各应用运行正常，表示升级成功。</p><h2 id="其他事项">其他事项</h2><h3 id="安装docker">安装Docker</h3><p>直接粘贴以下命令：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-o</span> /etc/yum.repos.d/docker-ce.repo https://repo.huaweicloud.com/docker-ce/linux/centos/docker-ce.repo<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">'s/\$releasever/7/g'</span> /etc/yum.repos.d/docker-ce.repo<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">'s/download.docker.com/repo.huaweicloud.com\/docker-ce/'</span> /etc/yum.repos.d/docker-ce.repodnf <span class="token function">install</span> <span class="token parameter variable">-y</span> docker-ce docker-ce-cli containerd.iosystemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>systemctl start <span class="token function">docker</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="升级ssh勤奋版">升级SSH（勤奋版）</h3><p>以下内容来自<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZvcmVzdHFxL2FydGljbGUvZGV0YWlscy8xMzI3MzMxMzY=">编译国产openEuler22.03 LTS系统OpenSSH 9.4的rpm安装包<i class="fa fa-external-link-alt"></i></span>，有改动。</p><p>找一台能够编译的服务器，在此系统上构建rpm包：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">dnf <span class="token function">install</span> <span class="token parameter variable">-y</span> rpm-build zlib-devel openssl-devel gcc perl-devel pam-devel<span class="token builtin class-name">cd</span><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> rpmbuild/<span class="token punctuation">&#123;</span>SOURCES,SPECS<span class="token punctuation">&#125;</span><span class="token builtin class-name">cd</span> rpmbuild/SOURCES/<span class="token function">curl</span> <span class="token parameter variable">-o</span> openssh-9.4p1.tar.gz <span class="token parameter variable">-k</span> https://ftp.openbsd.org/pub/OpenBSD/OpenSSH/portable/openssh-9.4p1.tar.gz<span class="token function">curl</span> <span class="token parameter variable">-o</span> x11-ssh-askpass-1.2.4.1.tar.gz <span class="token parameter variable">-k</span> https://src.fedoraproject.org/repo/pkgs/openssh/x11-ssh-askpass-1.2.4.1.tar.gz/8f2e41f3f7eaa8543a2440454637f3c3/x11-ssh-askpass-1.2.4.1.tar.gz<span class="token function">curl</span> <span class="token parameter variable">-o</span> openssl-1.1.1v.tar.gz <span class="token parameter variable">-k</span> https://www.openssl.org/source/openssl-1.1.1v.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>创建<code>~/rpmbuild/SOURCES/sshd.pam.oe2203</code>，内容<ahref="sshd.pam.oe2203">从这里下载</a>。</p><p>创建<code>~/rpmbuild/SPECS/openssh.spec</code>，内容<ahref="openssh.spec">从这里下载</a>。</p><p>操作完成后，开始构建安装包：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> ~/rpmbuild/SPECS/rpmbuild <span class="token parameter variable">-bb</span> openssh.spec<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>构建完成后进行升级：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> ~/rpmbuild/RPMS/x86_64<span class="token function">rpm</span> <span class="token parameter variable">-iUv</span> *<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>因为OpenSSH9.*加密算法只支持256位以上，因此原来的配置文件不能直接用了，先替换配置文件，再重启服务：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cp</span> /etc/ssh/sshd_config /etc/ssh/sshd_config.bak/bin/cp /etc/ssh/sshd_config.rpmnew /etc/ssh/sshd_config<span class="token comment"># 根据实际情况修改配置</span><span class="token function">vim</span> /etc/ssh/sshd_configsystemctl restart sshd<span class="token comment"># 检查升级情况</span><span class="token function">ssh</span> <span class="token parameter variable">-V</span>sshd <span class="token parameter variable">-V</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>构建完成后，可将<code>~/rpmbuild/RPMS/x86_64</code>中的安装包拷出来，直接给其他服务器使用，不用再重新构建了。</p><h3 id="升级ssh懒人版">升级SSH（懒人版）</h3><p>如果你是openEuler 22.03，x86_84架构，比较懒：</p><p><strong>警告：以下命令仅供参考，后果自负</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> ~/openssh-9.4<span class="token builtin class-name">cd</span> openssh-9.4<span class="token function">curl</span> <span class="token parameter variable">-o</span> openssh-9.4p1-oe2203.x86_64.rpm https://plusnan.me/2024/04/24/centos7-to-openeuler/openssh-9.4p1-oe2203.x86_64.rpm<span class="token function">curl</span> <span class="token parameter variable">-o</span> openssh-clients-9.4p1-oe2203.x86_64.rpm https://plusnan.me/2024/04/24/centos7-to-openeuler/openssh-clients-9.4p1-oe2203.x86_64.rpm<span class="token function">curl</span> <span class="token parameter variable">-o</span> openssh-debuginfo-9.4p1-oe2203.x86_64.rpm https://plusnan.me/2024/04/24/centos7-to-openeuler/openssh-debuginfo-9.4p1-oe2203.x86_64.rpm<span class="token function">curl</span> <span class="token parameter variable">-o</span> openssh-debugsource-9.4p1-oe2203.x86_64.rpm https://plusnan.me/2024/04/24/centos7-to-openeuler/openssh-debugsource-9.4p1-oe2203.x86_64.rpm<span class="token function">curl</span> <span class="token parameter variable">-o</span> openssh-server-9.4p1-oe2203.x86_64.rpm https://plusnan.me/2024/04/24/centos7-to-openeuler/openssh-server-9.4p1-oe2203.x86_64.rpm<span class="token function">rpm</span> <span class="token parameter variable">-iUv</span> *<span class="token function">mv</span> /etc/sysconfig/sshd.rpmsave /etc/sysconfig/sshd<span class="token function">cp</span> /etc/ssh/sshd_config /etc/ssh/sshd_config.bak/bin/cp <span class="token parameter variable">-f</span> /etc/ssh/sshd_config.rpmnew /etc/ssh/sshd_configsystemctl restart sshdsystemctl status sshd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="不满足信创要求">不满足信创要求</h3><p>领导说openEuler不在信创目录？没看到“华为”两个字吗，敢说华为不信创，你这领导是不想干了吗？</p><h2 id="参考资料">参考资料</h2><ul><li><span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC82NDg0NzAzNzk=">从Centos-7迁移到(华为欧拉系统)openEuler-20.03-LTS-SP3的教程<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC82NDg3MjM4Mjk=">（华为欧拉系统)openEuler-20.03-LTS-SP3升级openEuler-22.03-LTS-SP3教程<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZvcmVzdHFxL2FydGljbGUvZGV0YWlscy8xMzI3MzMxMzY=">编译国产openEuler22.03 LTS系统OpenSSH 9.4的rpm安装包<i class="fa fa-external-link-alt"></i></span></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;CentOS
7即将停止支持，如果系统同时又有信创要求，可考虑升级为华为的openEuler系统。&lt;/p&gt;
&lt;p&gt;因为官方升级工具有很多隐蔽的错误，而且不能平稳升级，所以本教程不使用官方的升级工具，而是直接使用命令升级。&lt;/p&gt;</summary>
    
    
    
    <category term="教程" scheme="https://plusnan.me/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="CentOS" scheme="https://plusnan.me/tags/CentOS/"/>
    
    <category term="openEuler" scheme="https://plusnan.me/tags/openEuler/"/>
    
    <category term="信创" scheme="https://plusnan.me/tags/%E4%BF%A1%E5%88%9B/"/>
    
  </entry>
  
  <entry>
    <title>海能达写频的一些问题</title>
    <link href="https://plusnan.me/2024/03/16/hytera-2/"/>
    <id>https://plusnan.me/2024/03/16/hytera-2/</id>
    <published>2024-03-15T16:00:00.000Z</published>
    <updated>2024-03-18T01:55:05.794Z</updated>
    
    <content type="html"><![CDATA[<p>记录写频时遇到的一些问题和处理方式。</p><span id="more"></span><h2 id="去哪里下载写频软件app">去哪里下载写频软件/APP</h2><p>海能达的写频软件在网上找不到，而且官网也不提供下载，那么去哪里找呢？</p><p>如果你在正规渠道购买的设备，商家会给你发送配套的写频软件，如果没有，直接找他们索要即可。</p><p>如果你买的二手，而且原机主也没有给你提供写频软件，那么怎么找呢？给海能达售后4008307020打电话，他们会告诉你找哪个供应商。</p><p>海能达的售后只在工作日的工作时间上班，所以不能像业余无线电一样在业余时间通联。</p><p>拿到写频软件、APP和授权码之后，记得做备份，免得下次找不到还要打电话。</p><p>另外不建议找其他台友要软件，因为软件不通用，除非同一个地方买的，别人的拿来不一定能用。</p><h2 id="数据版本不匹配">数据版本不匹配</h2><p>出现这个问题是因为写频软件和机器版本不一致，无法读写频。</p><p>能出现写频软件和机器不一致，说明你的软件是从网上找的，或者找其他台友要的。这种情况下，你需要参照前文，重新找买机器时候的供应商索要软件。</p><h2 id="读频时找不到端口">读频时找不到端口</h2><p>在给海能达G32/G36写频时遇到了一个问题，写频软件无法识别到端口，在“设备管理器”中也发现有个设备异常的“USBSerial”，重新安装写频软件和串口驱动仍然不能解决问题。</p><p>问题来了，安装写频软件时候，写频软件不是把配套驱动给安装上了吗？</p><p>是的，他们安装了驱动，但是装错了。他们带的是PL23XX驱动，结果碰到的机器是CH341，所以重新装个<span class="exturl" data-url="aHR0cHM6Ly93d3cud2NoLmNuL2Rvd25sb2Fkcy9DSDM0MVNFUl9FWEUuaHRtbA==">CH341驱动<i class="fa fa-external-link-alt"></i></span>就好了。</p><p>如果你碰到了类似问题，可以装个驱动精灵，让它看一下到底应该装哪个驱动。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;记录写频时遇到的一些问题和处理方式。&lt;/p&gt;</summary>
    
    
    
    <category term="业余无线电" scheme="https://plusnan.me/categories/%E4%B8%9A%E4%BD%99%E6%97%A0%E7%BA%BF%E7%94%B5/"/>
    
    
    <category term="海能达" scheme="https://plusnan.me/tags/%E6%B5%B7%E8%83%BD%E8%BE%BE/"/>
    
  </entry>
  
  <entry>
    <title>海能达避坑指南</title>
    <link href="https://plusnan.me/2024/03/15/hytera/"/>
    <id>https://plusnan.me/2024/03/15/hytera/</id>
    <published>2024-03-14T16:00:00.000Z</published>
    <updated>2024-03-20T07:05:15.883Z</updated>
    
    <content type="html"><![CDATA[<p>海能达是高端的国产对讲机，质量上乘但价格昂贵，和摩托罗拉、八重洲一样都适合装逼，所以某些有财力的台友会考虑入坑。今天正好3·15，为保障消费者权益，所以请海能达消费者注意以下事项……</p><span id="more"></span><figure><img src="ptc760.png"alt="这个手机比iPhone还贵，所以哪位土豪能帮忙测一下，这机器玩原神卡不卡" /><figcaptionaria-hidden="true">这个手机比iPhone还贵，所以哪位土豪能帮忙测一下，这机器玩原神卡不卡</figcaption></figure><h2 id="注意核准问题">注意核准问题</h2><p>海能达的目标客户不是普通玩家，也不是专业的业余无线电爱好者，其设备大部分为专业用途，例如公安、地铁之类的，因此很多设备并没有业余核准，而工信部在<span class="exturl" data-url="aHR0cHM6Ly93d3cubWlpdC5nb3YuY24vamdzai93Z2ova3B6cy9hcnQvMjAyMi9hcnRfYzFmZmQzYzQ3ZTNmNDU1ZGFkMzgyNDY1NzkwOTIxMzYuaHRtbA==">关于申请设置、使用业余无线电台所用无线电发射设备相关事宜的说明<i class="fa fa-external-link-alt"></i></span>中已经明确，不得使用不含业余频率核准的设备申请执照，也不能通过改频段的形式来走自制、改装流程，因此海能达的很多设备是无法合法（业余）使用的。</p><p>例如，HP780U1的核准码是2019FP5045，虽然机器能收发U段业余频率，而且设备有核准码，也有核准频率，但核准范围不含业余频率，所以不能通过验机，办不了业余执照。</p><h2 id="注意版本">注意版本</h2><p>海能达的设备有很多版本，例如HP780有U1、U3等版本，U1的频率范围包含业余频率，但是U3是350M的，不含业余频率，买了也无法当业余机使用。</p><p>即使是HP780U1，也有很多版本，硬件版本、固件版本，都是不一样的，例如有的不支持蓝牙写频。这导致这些设备功能不同，配套软件也不通用，而且海能达很难从网上找到写频软件，即使找到了，也可能无法适配你的设备。</p><p>因此在购买之前需要了解一下设备型号和版本，买之前向商家问清楚，并确认是否提供配套的软件。</p><h2 id="去正规渠道购买">去正规渠道购买</h2><p>海能达的设备并不像其他机器那样卖得广泛，需要去专门的经销商买，然后经销商进行授权，你才能获得售后服务支持。就像最重要的写频，其他手台完全可以手置频，而海能达的设备通常需要用写频软件才能完整地把参数设置好，并且这东西只有经销商有，网上搜索不到，买的时候一定记得索要。</p><p>海能达的某些机器太贵了，贵到会让人想去找一个性价比更高的方式购买，例如价格更低的商家，或者咸鱼。所以换个地方买呢？</p><p>换地方买当然可以，我们分两种情况：</p><ul><li>去店铺买新机：记得多找几家，看一下平均水平，而且要注意店铺信誉。如果比平均价低太多，要打听清楚原因，例如他们卖的是旧版本机器，功能有缺失，不能升级了。如果价格低于平均值，但是功能还多，那可能是改装的假货了。</li><li>去咸鱼买二手：不推荐去咸鱼买二手，因为不光海能达，其他东西也容易买到假货。而且就算是真货，如果卖家没有写频软件，你怎么要呢？打客服吗？要知道客服其实也只是帮你去找到原机主购买时的那个经销商而已。</li></ul><p>买二手还要注意个问题，海能达机器可以设置开机密码，也可以设置读写频密码，所以买之前要问清是否给机器上密码了，有密码的先把密码去掉。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;海能达是高端的国产对讲机，质量上乘但价格昂贵，和摩托罗拉、八重洲一样都适合装逼，所以某些有财力的台友会考虑入坑。今天正好3·15，为保障消费者权益，所以请海能达消费者注意以下事项……&lt;/p&gt;</summary>
    
    
    
    <category term="业余无线电" scheme="https://plusnan.me/categories/%E4%B8%9A%E4%BD%99%E6%97%A0%E7%BA%BF%E7%94%B5/"/>
    
    
    <category term="海能达" scheme="https://plusnan.me/tags/%E6%B5%B7%E8%83%BD%E8%BE%BE/"/>
    
  </entry>
  
  <entry>
    <title>Linux系统中给Docker开启IPv6</title>
    <link href="https://plusnan.me/2024/02/01/docker-ipv6/"/>
    <id>https://plusnan.me/2024/02/01/docker-ipv6/</id>
    <published>2024-01-31T16:00:00.000Z</published>
    <updated>2024-03-03T14:12:45.580Z</updated>
    
    <content type="html"><![CDATA[<p>鉴于网上的教程太多，而且很多是旧资料，并且官网的资料也是既不清晰又不准确，因此这里记录一个简单可行（2024年2月）的操作步骤。</p><span id="more"></span><h2 id="本教程前置条件">本教程前置条件</h2><ol type="1"><li>Linux系统</li><li>服务器有固定IPv6地址，而且进行了正确配置。</li><li>单节点</li></ol><h2 id="一查询服务器的ip段">一、查询服务器的IP段</h2><p>使用<code>ip addr</code>或<code>ifconfig</code>命令查询一下服务器的IPv6地址段：</p><pre class="line-numbers language-none"><code class="language-none"># ip addr ...2:  eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000    link&#x2F;ether f2:3c:92:24:24:c2 brd ff:ff:ff:ff:ff:ff    inet ***.***.***.***&#x2F;24 brd ***.***.***.*** scope global eth0       valid_lft forever preferred_lft forever    inet6 2400:1234::bbbb:cccc:dddd:eeee:ffff&#x2F;64 scope global dynamic mngtmpaddr noprefixroute       valid_lft 5117sec preferred_lft 1517sec    inet6 fe80:1234:aaaa:bbbb:cccc:dddd:eeee:ffff&#x2F;64 scope link       valid_lft forever preferred_lft forever...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>从上面可知，服务器的IP地址是<code>2400:1234::bbbb:cccc:dddd:eeee:ffff</code>，掩码64位，所以IP段就应该是<code>2400:1234:0:bbbb::/64</code></p><h2 id="二配置docker开启ipv6">二、配置Docker开启IPv6</h2><p>编辑<code>/etc/docker/deamon.json</code>文件：</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>    <span class="token property">"ipv6"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"fixed-cidr-v6"</span><span class="token operator">:</span> <span class="token string">"2400:1234:0:bbbb::/64"</span><span class="token punctuation">,</span>    <span class="token property">"experimental"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"ip6tables"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>fixed-cidr-v6</code>部分替换成你的服务器的IP段。</p><p>重启Docker，重启完成后输入<code>docker network inspect bridge</code>，在输出内容中找到<code>EnableIPv6</code>，如果它的值是true，说明Docker已开启IPv6。</p><h2 id="三使容器启用ipv6">三、使容器启用IPv6</h2><h3 id="docker-run模式">docker run模式</h3><p>创建一个支持IPv6的网络：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> network create <span class="token parameter variable">--ipv6</span> <span class="token parameter variable">--subnet</span><span class="token operator">=</span><span class="token string">"fc00:0:0:1::/64"</span> mynet<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>其中<code>fc00:0:0:1::/64</code>也可以换成其他内网网段。</p><p>删掉现有容器，然后重新创建容器，并使用<code>--network</code>参数指定网络，例如</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-v</span> xxxx <span class="token parameter variable">-p</span> xxxx <span class="token parameter variable">--network</span> mynet xxxx/xxxx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>容器启动成功后，使用dockerinspect查看容器信息，如果其中的<code>GlobalIPv6Address</code>出现IPv6地址说明启用成功。</p><h3 id="docker-compose模式">docker-compose模式</h3><p>修改docker-compose.yaml配置文件，在最后面增加（如果已有类似内容，请根据实际情况调整）：</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">networks</span><span class="token punctuation">:</span>  <span class="token key atrule">default</span><span class="token punctuation">:</span>    <span class="token key atrule">enable_ipv6</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">ipam</span><span class="token punctuation">:</span>      <span class="token key atrule">config</span><span class="token punctuation">:</span>        <span class="token punctuation">-</span> <span class="token key atrule">subnet</span><span class="token punctuation">:</span> fc00<span class="token punctuation">:</span>0<span class="token punctuation">:</span>0<span class="token punctuation">:</span>1<span class="token punctuation">:</span><span class="token punctuation">:</span>/64<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>删除现有容器，然后使用<code>docker network ls</code>和<code>docker network rm xxx</code>删除compose创建的网络。容器和网络删除完成后，使用<code>docker compose up -d</code>来重新创建容器。</p><p>如果在<code>docker compose up -d</code>时报错，提示<code>pool overlaps with other one on this address space</code>，说明你忘记删除network了，手工删掉即可。</p><p>容器启动成功后，使用dockerinspect查看容器信息，如果其中的<code>GlobalIPv6Address</code>出现IPv6地址说明启用成功。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;鉴于网上的教程太多，而且很多是旧资料，并且官网的资料也是既不清晰又不准确，因此这里记录一个简单可行（2024年2月）的操作步骤。&lt;/p&gt;</summary>
    
    
    
    <category term="教程" scheme="https://plusnan.me/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Docker" scheme="https://plusnan.me/tags/Docker/"/>
    
    <category term="IPv6" scheme="https://plusnan.me/tags/IPv6/"/>
    
  </entry>
  
  <entry>
    <title>如何理解业余电台执照的使用范围</title>
    <link href="https://plusnan.me/2024/01/16/radio-license-range/"/>
    <id>https://plusnan.me/2024/01/16/radio-license-range/</id>
    <published>2024-01-15T16:00:00.000Z</published>
    <updated>2024-03-08T01:24:50.586Z</updated>
    
    <content type="html"><![CDATA[<p>异地使用、通信范围，这些概念太弯弯绕了，加上不同省份小执照格式还不一样，怎样才容易理解呢？直接看案例！</p><span id="more"></span><h2 id="最新情况2024-3">最新情况（2024-3）</h2><p>小执照要像大执照一样统一样式，所以就不存在这个问题了。</p><h2 id="旧文">旧文</h2><hr /><pre class="line-numbers language-none"><code class="language-none">使用范围：全国通信范围：省内台站地址：山东省济南市市中区经十一路45号1-4楼  鲁A14514<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>可以在全国使用，只能与山东省内通联</p><hr /><pre class="line-numbers language-none"><code class="language-none">使用范围：全国通信范围：省际或涉外台站地址：山东省济南市市中区经十一路45号1-4楼  鲁A14514<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>无限制，可以全国使用，并且可全国通联</p><hr /><pre class="line-numbers language-none"><code class="language-none">通信范围：省内台站地址：山东省济南市市中区经十一路45号1-4楼  鲁A14514<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>只能在台站地址（家内或车内）使用，并且只能与省内通联</p><hr /><pre class="line-numbers language-none"><code class="language-none">通信范围：省际或涉外台站地址：山东省济南市市中区经十一路45号1-4楼  鲁A14514<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>只能在台站地址（家内或车内）使用，但是可全国通联</p><hr /><pre class="line-numbers language-none"><code class="language-none">通信范围：省内台站地址：<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>可以全国使用，但只能与省内通联</p><hr /><pre class="line-numbers language-none"><code class="language-none">通信范围：省际或涉外台站地址：<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>无限制，可以全国使用，并且可全国通联</p><hr /><pre class="line-numbers language-none"><code class="language-none">通信范围：省内台站地址：山东省<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>可以在山东省使用，并且只能与省内通联</p><hr /><pre class="line-numbers language-none"><code class="language-none">通信范围：省际或涉外台站地址：全国<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>无限制，可以全国使用，并且可全国通联</p><h2 id="参见">参见</h2><ul><li><span class="exturl" data-url="aHR0cHM6Ly9mb3J1bS5oYW1jcS5jbi9kLzk1OA==">https://forum.hamcq.cn/d/958<i class="fa fa-external-link-alt"></i></span></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;异地使用、通信范围，这些概念太弯弯绕了，加上不同省份小执照格式还不一样，怎样才容易理解呢？直接看案例！&lt;/p&gt;</summary>
    
    
    
    <category term="业余无线电" scheme="https://plusnan.me/categories/%E4%B8%9A%E4%BD%99%E6%97%A0%E7%BA%BF%E7%94%B5/"/>
    
    
    <category term="执照" scheme="https://plusnan.me/tags/%E6%89%A7%E7%85%A7/"/>
    
  </entry>
  
  <entry>
    <title>如何有效地找客服反馈问题</title>
    <link href="https://plusnan.me/2023/12/21/report-issues-from-users/"/>
    <id>https://plusnan.me/2023/12/21/report-issues-from-users/</id>
    <published>2023-12-20T16:00:00.000Z</published>
    <updated>2024-03-05T13:23:58.589Z</updated>
    
    <content type="html"><![CDATA[<p>用正确的方法反馈问题，才能让客服更好地帮你解决问题。我们以打软件系统的客服为例，讲一讲打电话的注意事项。</p><span id="more"></span><h2 id="假设对方什么都不懂">假设对方什么都不懂</h2><p>客服在上岗之前，会做过基本的业务培训，能够处理一些常见问题，但他们不是技术或研发人员，所以不可能100%了解系统运作原理。</p><p>软件内部结构是很复杂的，需要团队分工协作开发。即使你能找到直接参与开发的程序员，这根“救命稻草”也不见得接触过你所用的功能。</p><p>所以反馈问题时不要假设对方什么都懂，特别是如果他们反问你问题了，该配合的还是要配合，该提供的信息还是要提供，这样他们才能知道下一步如何帮忙。</p><h2 id="先讲问题">先讲问题</h2><p>无论是打电话、发邮件还是填写问题反馈页面，务必直入主题，说清自己的诉求是什么。找人办事，你总得让对方知道你想办什么事，对吧。</p><h3 id="正面案例">正面案例</h3><ul><li>“我在使用XXX功能的时候，点击保存按钮，系统出现YYYYYY错误的提示信息”</li></ul><p>这样的话，接电话那个人就会往XXX功能方向思考。如果他不懂XXX功能方面的知识，就可以去找懂XXX的同事来帮忙了。</p><h3 id="反面教材找你们领导">反面教材：“找你们领导”</h3><p>先说问题好不好？如果问题真严重到需要找领导的程度，接电话的人也好知道找哪方面的领导。否则的话，就算把国家领导人叫过来，他连电脑屏幕上的“NullPointerException”都不知道是什么意思，怎么帮你解决呢？</p><h3 id="反面教材讲长篇故事">反面教材：讲长篇故事</h3><p>交待事情背景、操作步骤之类的事情没问题，可是不要太啰嗦。</p><p>如果讲了十分钟故事，结果客服发现你的问题是常见问题，一句话就能解决，那么你的心理阴影面积和电话费都是多少？</p><h2 id="正确地描述问题">正确地描述问题</h2><h3 id="精确地描述问题">精确地描述问题</h3><ol type="1"><li>问题的具体现象是什么？</li></ol><ul><li>是出现了错误信息，还是一片空白？</li><li>如果错误信息，是系统给出的错误提示，还是产生了不正确的数据？</li><li>错误信息的内容是什么？</li><li>……</li></ul><ol start="2" type="1"><li>错误如何产生的？</li></ol><ul><li>你做了什么操作？点了什么按钮？输入了什么数据？</li><li>其他情况出不出错？</li><li>……</li></ul><p>精确地描述，客服和技术人员就能精确定位，节约时间。</p><h4 id="反面教材系统不好用">反面教材：“系统不好用”</h4><p>系统那么大，哪个地方不好用？怎么个不好用法？您不说，我们怎么满足您的需求？</p><p>一些好的案例：</p><ul><li>“XXX功能经常转圈，每次都等很长时间才能进去”</li><li>“XXX功能，填写AAA数据时，需要经常去点YYY菜单到ZZZ页面查询，建议把两个页面放在一起”</li><li>“XXX按钮需要一个一个地点，建议做一个批量操作功能”</li></ul><p>这样技术人员才有机会把你觉得不好用的地方变得好用。</p><h4 id="反面教材系统进不去">反面教材：“系统进不去”</h4><p>怎么进不去呢？可能性太多了：</p><ul><li>你的电脑断网，网站进不去了</li><li>你的账号被锁定，没有操作权限了</li><li>你的电脑网络不稳定，点击菜单之后加载缓慢</li><li>网站的服务器不稳定，点击菜单之后加载缓慢</li><li>网站的服务器出现故障，功能发生异常</li></ul><p>你看，只说“进不去”三个字的话，客服和技术人员就需要排查每一种可能性。然而，如果你说“系统进不去，提示‘无法显示此页，确保地址正确，使用搜索引擎查找页面……’”或者“XXX功能进不去，一直转圈，别的功能没毛病”，客服就能很快知道该从哪些方面下手解决问题。</p><h3 id="尽可能提供详细信息">尽可能提供详细信息</h3><ul><li>你处理的是哪种业务？大约什么时间开始办理的？</li><li>你的账号，或者你代表的组织？</li><li>提示错误，错误的截图？</li><li>你做过哪些操作？</li><li>你有没有自己尝试解决问题？如果有，你又做了哪些操作？</li><li>你希望把业务处理成哪种状态？通过还是撤销？</li></ul><p>提供详细的信息，可以让技术人员更方便地提取数据、查找出处，节约时间。</p><h2 id="着急要明确地说出来">着急，要明确地说出来</h2><p>如果事情紧迫，反馈问题的时候一定要强调着急。如果问题要紧，但客服解决不了，他们会去找开发人员。然而搞IT的人往往都很忙，你不明确告诉他们着急，他们可能就优先忙自己事情了。</p><p>如果问题不能立马解决，最好隔一段时间催着问一下进展，以免他们忘了。</p><h3 id="典型反例贬损对方">典型反例：贬损对方</h3><p>客服与你无冤无仇，你给客服施加压力，目的应该是促进他们尽快解决问题。可是，如果你乱说话，甚至爆粗口，拿客服当出气筒，把客服或开发人员惹得心情不好了，谁还愿意帮你解决问题呢？</p><h2 id="笑一笑">笑一笑</h2><ul><li><span class="exturl" data-url="aHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1pM2RxQlR0aE1STQ==">河南大叔与阿里巴巴客服之间的爆笑对话<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1XVlduQmJrWk5ocw==">电信客服爆笑对骂工号9527超搞笑<i class="fa fa-external-link-alt"></i></span>（粗口）</li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;用正确的方法反馈问题，才能让客服更好地帮你解决问题。我们以打软件系统的客服为例，讲一讲打电话的注意事项。&lt;/p&gt;</summary>
    
    
    
    <category term="一点人生的经验" scheme="https://plusnan.me/categories/%E4%B8%80%E7%82%B9%E4%BA%BA%E7%94%9F%E7%9A%84%E7%BB%8F%E9%AA%8C/"/>
    
    
    <category term="沟通" scheme="https://plusnan.me/tags/%E6%B2%9F%E9%80%9A/"/>
    
  </entry>
  
  <entry>
    <title>高性价比FM收音机——宝峰UV-5R与泉盛UV-K5</title>
    <link href="https://plusnan.me/2023/11/04/uv5r-uvk5-radio/"/>
    <id>https://plusnan.me/2023/11/04/uv5r-uvk5-radio/</id>
    <published>2023-11-03T16:00:00.000Z</published>
    <updated>2024-03-06T06:08:35.365Z</updated>
    
    <content type="html"><![CDATA[<p>宝峰UV-5R与泉盛UV-K5不都是网红对讲机吗？</p><p>没错，但其实也是两款高性价比的FM收音机。某些情况下，使用体验甚至可以比得上真正的收音机。</p><span id="more"></span><h2 id="两个机器的共同点">两个机器的共同点</h2><ul><li>优点<ol type="1"><li>价格便宜，才几十块钱。</li><li>如果你知道广播频率，可以直接用数字键输入。</li><li>如果你的上衣有口袋或类似的缝口，可以像保安一样把对讲机别在身上，开外放时候就不需要用手去拿着机器了。而且，因为它本来是个对讲机，所以别在身上的时候，喇叭发出的声音方向是朝向你的。</li></ol></li><li>缺点<ol type="1"><li>对讲机会优先接收对讲的信号。你可以事先把两个对讲频率调到一个没人用的频率上面。但是，如果周围有强信号干扰，这两个手台就会经常退出收音机模式。</li><li>音质不如专业收音机。当然，如果你不是专业的广播爱好者，你可能不会在乎这一点。</li><li>没有短波、中波和长波频段。如果你听这些特殊频段，还是买收音机去吧。</li><li>一般耳机无法使用，如果不想开外放，需要买特殊的K头耳机。</li></ol></li></ul><h2 id="宝峰uv-5r作为收音机的优缺点">宝峰UV-5R作为收音机的优缺点</h2><ul><li>优点<ol type="1"><li>操作方便，拧一下旋钮，按一下侧面的红色按钮，就进入收音机模式了。</li><li>搜台方便，如果不知道频率，按下*就自动给你切换到下一个台了。</li></ol></li><li>缺点<ol type="1"><li>UV-5R不支持保存频道。如果你经常听多个固定的广播台，换台可能就麻烦一些了。</li></ol></li></ul><h2 id="泉盛uv-k5作为收音机的优缺点">泉盛UV-K5作为收音机的优缺点</h2><ul><li>优点<ol type="1"><li>可以保存频道。如果有多个常听的频道，可以切换成频道模式，再用上下键来切换。</li><li>支持自动搜台并保存成频道，先按F再按2即可。</li></ol></li><li>缺点<ol type="1"><li>进入收音机模式需要分两步，先按F再按0。如果想直接用侧面的按钮当收音机按钮，你还需要弄个对讲机写频线（K头），还要在电脑上安装专门的软件去调整，如果不是业余无线电爱好者，实在不值得折腾。</li><li>搜下一个台也得分两步，先按F再按3。</li></ol></li></ul><h2 id="其他问题">其他问题</h2><p>宝峰UV-5R和泉盛UV-K5都是大功率对讲机，应当考取业余无线电台操作证书，而且给对讲机办理无线电台执照，才能合法使用。虽然拿着对讲机不像架短波电台那样容易被好事者举报，但是最好还是合法使用。</p><h2 id="结论">结论</h2><del>所以拿哪个当收音机呢？当然是几个机器都买一遍了！顺便还可以入业余无线电的坑，走向无限垫之路。</del>]]></content>
    
    
    <summary type="html">&lt;p&gt;宝峰UV-5R与泉盛UV-K5不都是网红对讲机吗？&lt;/p&gt;
&lt;p&gt;没错，但其实也是两款高性价比的FM收音机。某些情况下，使用体验甚至可以比得上真正的收音机。&lt;/p&gt;</summary>
    
    
    
    <category term="业余无线电" scheme="https://plusnan.me/categories/%E4%B8%9A%E4%BD%99%E6%97%A0%E7%BA%BF%E7%94%B5/"/>
    
    
    <category term="对讲机" scheme="https://plusnan.me/tags/%E5%AF%B9%E8%AE%B2%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title>Windows 2019/2022安装OpenSSH服务端</title>
    <link href="https://plusnan.me/2023/10/18/windows-2019-ssh/"/>
    <id>https://plusnan.me/2023/10/18/windows-2019-ssh/</id>
    <published>2023-10-17T16:00:00.000Z</published>
    <updated>2024-03-05T08:58:36.326Z</updated>
    
    <content type="html"><![CDATA[<p>由于有些情况下会安装失败，这里记录一个可用（2023年10月）的操作教程。</p><span id="more"></span><h2 id="为什么要安装openssh">为什么要安装OpenSSH</h2><p>远程登到Windows敲命令吗？当然不是了，这不Windows啊！</p><p>然而ssh除了可以敲命令，还可以传文件、建隧道。这样就可以靠ssh来补充一些不足了：</p><ul><li>Windows远程桌面上传下载文件速度很慢，而且连接不稳定。FTP需要安装和配置IIS，操作比较麻烦，而且不安全。而SSH容易安装，传文件既快又稳定，而且默认情况下需要本机用户认证才能登录，保证了安全性。</li><li>如果你熟悉ssh隧道的用法，可以利用ssh来处理Windows的部分端口映射问题，例如将Windows服务器里的端口映射到本地。</li></ul><h2id="先尝试安装自带的openssh不推荐">先尝试安装自带的OpenSSH（不推荐）</h2><p>打开PowerShell，输入（大小写无所谓，下同）：</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token function">Add-WindowsCapability</span> <span class="token operator">-</span>Online <span class="token operator">-</span>Name OpenSSH<span class="token punctuation">.</span>Server~~~~0<span class="token punctuation">.</span>0<span class="token punctuation">.</span>1<span class="token punctuation">.</span>0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>如果报错，直接看本文最后面的内容。如果没报错，继续执行：</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token function">Set-Service</span> sshd <span class="token operator">-</span>StartupType Automatic<span class="token function">Set-Service</span> ssh-agent <span class="token operator">-</span>StartupType Automatic<span class="token function">Start-Service</span> sshd<span class="token function">Start-Service</span> ssh-agent<span class="token comment"># 检查SSH服务是否正常启动</span><span class="token function">Get-Service</span> <span class="token operator">-</span>Name <span class="token operator">*</span>ssh* <span class="token punctuation">|</span> <span class="token function">select</span> DisplayName<span class="token punctuation">,</span> Status<span class="token punctuation">,</span> StartType<span class="token comment"># 检查防火墙规则，如果未放行，需要到“高级安全Windows防火墙”中放行22端口</span><span class="token function">Get-NetFirewallRule</span> <span class="token operator">-</span>Name <span class="token operator">*</span>SSH*<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="如果安装失败了推荐">如果安装失败了（推荐）</h2><p>有时候Windows2019安装OpenSSH会出错，而且无论如何都会失败。遇到这种情况，不要气馁，也没必要浪费时间去排查原因，直接去GitHub上下载个新版本就可以了。</p><p>下载地址：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL1Bvd2VyU2hlbGwvV2luMzItT3BlblNTSC9yZWxlYXNlcw==">https://github.com/PowerShell/Win32-OpenSSH/releases<i class="fa fa-external-link-alt"></i></span></p><p>安装完成后记得在“服务”中将SSH设置为自动启动，并且在“高级安全Windows防火墙”的“入站规则”中开放服务器的22端口。</p><h2 id="其他配置">其他配置</h2><h3 id="防火墙规则">防火墙规则</h3><p>除了在“高级安全Windows防火墙”配置，也可以使用以下PowerShell命令来添加规则：</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token function">New-NetFirewallRule</span> <span class="token operator">-</span>Name <span class="token string">'OpenSSH-Server-In-TCP'</span> <span class="token operator">-</span>DisplayName <span class="token string">'OpenSSH Server (sshd)'</span> <span class="token operator">-</span>Enabled True <span class="token operator">-</span>Direction Inbound <span class="token operator">-</span>Protocol TCP <span class="token operator">-</span>Action Allow <span class="token operator">-</span>LocalPort 22<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="允许免密公钥登录">允许免密（公钥）登录</h3><p>修改<code>C:\ProgramData\ssh\sshd_config</code>文件，找到下面两行内容</p><pre class="line-numbers language-none"><code class="language-none">Match Group administrators       AuthorizedKeysFile __PROGRAMDATA__&#x2F;ssh&#x2F;administrators_authorized_keys<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>把这两行删掉，或者用<code>#</code>注释掉。</p><p>再创建<code>C:\Users\你的用户名\.ssh\authorized_keys</code>文件，将你的电脑的公钥写到里面，例如：</p><pre class="line-numbers language-none"><code class="language-none">ssh-rsa AAAAB3...... 你的名字<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>保存，之后就可以直接用key登录服务器了。</p><h3 id="默认启动powershell">默认启动PowerShell</h3><p>登录进入服务器后，默认启动的是cmd。如果想换成PowerShell，可以修改注册表，或在PowerShell中输入以下命令：</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token function">New-ItemProperty</span> <span class="token operator">-</span>Path <span class="token string">"HKLM:\SOFTWARE\OpenSSH"</span> <span class="token operator">-</span>Name DefaultShell <span class="token operator">-</span>Value <span class="token string">"C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe"</span> <span class="token operator">-</span>PropertyType String <span class="token operator">-</span>Force<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="参见">参见</h2><ul><li><span class="exturl" data-url="aHR0cHM6Ly9sZWFybi5taWNyb3NvZnQuY29tL2VuLXVzL3dpbmRvd3Mtc2VydmVyL2FkbWluaXN0cmF0aW9uL29wZW5zc2gvb3BlbnNzaF9zZXJ2ZXJfY29uZmlndXJhdGlvbg==">OpenSSHServer configuration for Windows Server and Windows<i class="fa fa-external-link-alt"></i></span></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;由于有些情况下会安装失败，这里记录一个可用（2023年10月）的操作教程。&lt;/p&gt;</summary>
    
    
    
    <category term="教程" scheme="https://plusnan.me/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="ssh" scheme="https://plusnan.me/tags/ssh/"/>
    
  </entry>
  
  <entry>
    <title>威诺VR-6600PRO使用记录</title>
    <link href="https://plusnan.me/2023/09/20/vgc-6600-pro/"/>
    <id>https://plusnan.me/2023/09/20/vgc-6600-pro/</id>
    <published>2023-09-19T16:00:00.000Z</published>
    <updated>2024-09-03T02:33:20.769Z</updated>
    
    <content type="html"><![CDATA[<p>威诺VR-6600PRO是一款高端的国产车载电台。这里简单记录一些使用记录，供准备购买的人参考。</p><span id="more"></span><figure><img src="6600.png" alt="威诺VR-6600PRO，不含天馈" /><figcaption aria-hidden="true">威诺VR-6600PRO，不含天馈</figcaption></figure><h2 id="基本参数">基本参数</h2><ul><li>核准码：2015FP4442</li><li>发射频率：纯业余段，即144-148MHz、430-440MHz</li><li>接收频率：<ul><li>AM、FM电台：500kHz-1710kHz、76-108MHz</li><li>航空频率：108-136MHz</li><li>VHF频段（实测，与说明书不同）：144-148MHz</li><li>UHF频段（实测，与说明书不同）：430-440MHz</li><li>174-250MHz、300-400MHz</li><li>480-520MHz</li></ul></li><li>发射功率：5/20/50W</li></ul><h2 id="特点">特点</h2><ul><li>作为高端定位的车台，6600机器做工优良，质量可靠，皮实耐用。如果经常在外使用，不需要担心机器性能。</li><li>完全分体式设计，机头控制器、机身完全独立。如果在车上使用，机头、机身都可以灵活安装。</li><li>功能齐全，满足HAM需求。</li><li>中文菜单。</li><li>有正显屏（绿底黑字）和负显屏（黑底绿字）两种版本，推荐买负显屏版本。</li><li>支持双守，而且是真双守，如果两个频道同时呼叫，两边喇叭会一起响。</li></ul><p>如果你是HAM，不管是当作车台使用，还是放在家里当基地台使用，威诺6600都是不错的选择。</p><h2 id="瑕不掩瑜的小缺点">瑕不掩瑜的小缺点</h2><p>威诺6600还有一些小缺点：</p><ul><li>双守：双守的电台有个共同的毛病，如果你不在电台旁边，当有台友CQ时，你很难知道他是在哪个频率发的呼叫，结果还不如买两个单守的设备，只要放在两个不同位置，听声音方向就能知道是哪个频率发起的呼叫了。</li><li>写频：写频操作麻烦，电脑写频则需要买6600专用的数据线。</li><li>存储：两个信道的存储不是共用的，如果你要保存个频率，左右两边都要操作一遍。</li><li>音量旋钮：音量旋钮刻度不明显，容易看不清音量大小，在车上也不方便操作，可以考虑自己再贴个或者涂个显眼的刻度。</li></ul><h2 id="不具备的功能">不具备的功能</h2><p>6600并非万能，如果你恰好需要以下功能，那么不要买6600：</p><ul><li>蓝牙：没有蓝牙，所以不能蓝牙写频，也不能用无线手咪或方向盘上的指环PTT发射。</li><li>APRS定位：需要加装专门模块，而且体验还不如直接买个带APRS功能的车台。</li><li>同段中继：6600只支持跨段中继，即U转V或V转U，如果有同段中继需求，可以考虑买即时通D9000，不差钱的也可以买海能达PD980或专门的中继台。</li><li>457MHz接收：懂的都懂，而且一般人都会用手台收听吧？</li></ul><h2 id="买7500还是6600">买7500，还是6600？</h2><p>威诺还有另一款产品，VR-N7500，是一款没有屏幕和操作按钮的车台，全部功能都需要使用手机APP控制。</p><figure><img src="7500.png" alt="威诺VR-N7500，不含天馈" /><figcaption aria-hidden="true">威诺VR-N7500，不含天馈</figcaption></figure><p>相比6600，7500有哪些优势呢？</p><ul><li>支持APRS，包括APRS信号收发，以及APRS地图展示（仅限通过无线电收发到的信号）。</li><li>全部APP控制，写频和切换频道都比较方便。</li><li>支持录音回放。未完全抄收时，可以像微信那样直接回放语音。</li><li>支持蓝牙通信，所以可以改用蓝牙手咪、蓝牙PTT。</li><li>支持网络频道。</li></ul><p>7500的APP叫做“HT”，支持Android和iOS系统，但Android功能更全，建议使用Android手机操作。</p><p>所以6600和7500选哪个好呢？两个都是不错的机器，选哪个就看你的功能需求和个人习惯了。如果需要APRS和蓝牙，又不介意没有屏幕，APP控制，那肯定是7500了。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;威诺VR-6600PRO是一款高端的国产车载电台。这里简单记录一些使用记录，供准备购买的人参考。&lt;/p&gt;</summary>
    
    
    
    <category term="业余无线电" scheme="https://plusnan.me/categories/%E4%B8%9A%E4%BD%99%E6%97%A0%E7%BA%BF%E7%94%B5/"/>
    
    
    <category term="威诺" scheme="https://plusnan.me/tags/%E5%A8%81%E8%AF%BA/"/>
    
  </entry>
  
  <entry>
    <title>如何学会摩尔斯电码</title>
    <link href="https://plusnan.me/2023/07/09/morse-code/"/>
    <id>https://plusnan.me/2023/07/09/morse-code/</id>
    <published>2023-07-08T16:00:00.000Z</published>
    <updated>2024-03-08T15:12:19.933Z</updated>
    
    <content type="html"><![CDATA[<p>摩尔斯电码看起来很难学，所以初学者如何才能学会摩尔斯电码呢？</p><span id="more"></span><h2 id="不要做以下事情">不要做以下事情！</h2><p>不要记点划!</p><figure><img src="code1.png" alt="不要看这个" /><figcaption aria-hidden="true">不要看这个</figcaption></figure><p>不要记那个字母和点划的关系！</p><figure><img src="code2.png" alt="也不要看这个" /><figcaption aria-hidden="true">也不要看这个</figcaption></figure><p>这些都不利于初学者学习，所以不要看，不要背。</p><p>那么以上两张图到底有什么用呢？</p><p>如果你不是初学者，已经学会摩尔斯电码，上面的东西可以帮你把生疏或遗忘的电码给捡起来。</p><h2 id="先从收听开始">先从收听开始</h2><p>先从收听开始，直接找个APP，速度调成30wpm，天天用摩尔斯电码给自己洗脑，洗一段时间之后你自然就记住了。</p><p>话是这样说，但是怎样洗脑才更科学呢？</p><p>这就要提到Koch方法了，事实上很多学习摩尔斯电码的APP或程序就是这样教学的：</p><ol type="1"><li>第一次只用两个字母洗脑，靠听声音来辨识字母。</li><li>能做到几乎不犯错之后，就增加一个新的字母，三个字母一起洗。</li><li>当再一次洗到几乎不犯错的程度之后，继续增加一个字母，四个字母一起洗。</li><li>重复以上过程，直到把所有字母都“入脑、入心、入魂”为止。</li></ol><p>在学习过程中，不要去想有几个点和几个杠，要听声音嘀嗒的节奏，脑袋也要去记这个节奏，就像听音乐或学唱歌那样。</p><p>每个人的学习能力是不一样的，所以不要强求速成。假如坚持洗了好几天，电码都没洗进你的脑袋里，可以考虑换个学习软件，或者把速度降到20wpm。</p><p>推荐APP或网站：</p><table><colgroup><col style="width: 23%" /><col style="width: 25%" /><col style="width: 24%" /><col style="width: 14%" /><col style="width: 12%" /></colgroup><thead><tr><th>名称</th><th>形式</th><th>是否花钱</th><th>级别</th><th>备注</th></tr></thead><tbody><tr><td>MorseMania</td><td>手机APP（Android/iOS）</td><td>是</td><td>入门/进阶</td><td></td></tr><tr><td><span class="exturl" data-url="aHR0cHM6Ly9sY3dvLm5ldA==">lcwo<i class="fa fa-external-link-alt"></i></span></td><td>电脑网站</td><td>否</td><td>入门/进阶</td><td></td></tr><tr><td><span class="exturl" data-url="aHR0cDovL3d3dy5keGF0bGFzLmNvbS9Nb3JzZVJ1bm5lci8=">Morse Runner<i class="fa fa-external-link-alt"></i></span></td><td>电脑应用</td><td>否</td><td>提高</td><td>只有Windows版，Linux或Mac可用Wine运行</td></tr></tbody></table><h2 id="开始提高难度">开始提高难度</h2><p>学会抄收单个字母以后，你就可以继续加大难度了。</p><p>这时开始你就要开始两线作战，一方面是能抄清电码，另一方面要能理解电码内容，所以一方面要洗脑听字母，另一方面要找字典背单词。</p><p>先从稍微难一点的开始，两三个字母，这就包括单词、缩略语、Q简语，等等。对于无线电的缩略语和Q简语，不建议直接去背，太多了记不住。可以每天只记一两个，再刷一刷业余无线电的考试题，积少成多。有些词语还可以像“QTH”那样有意识地使用一下，这样就更容易记忆了。</p><p>当三个字母也“入脑、入心、入魂”之后，你可以继续加大难度，抄收呼号和长单词，学习通联模板，直到最后能够抄收完整通联内容为止。</p><h2 id="学习拍发">学习拍发</h2><p>当你学会收听之后，找到有经验的HAM学习一下电键的操作手法，之后你就自然而然地学会拍发了。</p><p>需要说明的是，学电键最好有人带，不建议自学，更不要盲目高速发报。手法不正确的话，不仅效率低，而且还容易伤手。</p><h2 id="最重要的是">最重要的是……</h2><p>带着对无线电的兴趣去学习，而且要坚持学习，别“三天打鱼，两天晒网”。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;摩尔斯电码看起来很难学，所以初学者如何才能学会摩尔斯电码呢？&lt;/p&gt;</summary>
    
    
    
    <category term="业余无线电" scheme="https://plusnan.me/categories/%E4%B8%9A%E4%BD%99%E6%97%A0%E7%BA%BF%E7%94%B5/"/>
    
    
    <category term="摩尔斯电码" scheme="https://plusnan.me/tags/%E6%91%A9%E5%B0%94%E6%96%AF%E7%94%B5%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>中国用户如何注册中文维基百科账号，并且获得编辑权限</title>
    <link href="https://plusnan.me/2023/06/20/wikipedia-account/"/>
    <id>https://plusnan.me/2023/06/20/wikipedia-account/</id>
    <published>2023-06-19T16:00:00.000Z</published>
    <updated>2024-03-08T01:15:20.517Z</updated>
    
    <content type="html"><![CDATA[<p><span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvSGVscDolRTUlQTYlODIlRTQlQkQlOTUlRTglQUUlQkYlRTklOTclQUUlRTclQkIlQjQlRTUlOUYlQkElRTclOTklQkUlRTclQTclOTE=">中文维基百科提供了官方的操作教程<i class="fa fa-external-link-alt"></i></span>，但是教程出于多样性考虑，内容比较繁杂，而且对操作者的技术水平要求非常高，因此这里重新写一个简单可行的操作教程。</p><span id="more"></span><h2 id="前提条件">前提条件</h2><ol type="1"><li>使用电脑操作</li><li>你的电脑安装了翻墙软件，而且只要启动翻墙软件，浏览器上就不需要再安装其他插件来翻墙</li></ol><p>如果你不知道如何翻墙，请先学习翻墙的操作方法。</p><p>如果你不想翻墙，也不想学习翻墙，你也可以直接访问<span class="exturl" data-url="aHR0cHM6Ly9xaXV3ZW4ud2lraS8=">求闻百科<i class="fa fa-external-link-alt"></i></span>（网址：qiuwen.wiki），该网站除了个别主题以外，其他内容与中文维基百科是基本一致的。</p><h2 id="操作步骤">操作步骤</h2><p><strong>请严格按照本教程步骤操作，教程中的每一步操作都不要省略，哪怕看起来没有任何意义：</strong></p><h3 id="一修改hosts">一、修改Hosts</h3><ol type="1"><li>先开启翻墙模式，并确认翻墙成功。如果需要测试翻墙情况，请使用Google测试。</li><li>打开<span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvSGVscDolRTUlQTYlODIlRTQlQkQlOTUlRTglQUUlQkYlRTklOTclQUUlRTclQkIlQjQlRTUlOUYlQkElRTclOTklQkUlRTclQTclOTE=">中文维基百科的官方教程<i class="fa fa-external-link-alt"></i></span>，翻到“维基媒体服务器列表”章节，在表格中“text-lb”部分找到一个打绿勾的IP地址。</li><li>找到hosts文件，Windows系统一般位于<code>C:\Windows\System32\drivers\etc\hosts</code>，Linux或Mac系统则是用命令修改<code>/etc/hosts</code>。使用文本编辑器进行修改，在文件中加入以下内容：</li></ol><pre class="line-numbers language-none"><code class="language-none">198.35.26.96 zh.wikipedia.org198.35.26.96 login.wikimedia.org198.35.26.96 meta.wikimedia.org198.35.26.96 commons.wikimedia.org<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>注意：第一个是wiki<code>p</code>edia，后面三个是wiki<code>m</code>edia，字母不一样。实际操作时，应当把<code>198.35.26.96</code>换成你刚才查到的IP地址。</p><ol start="4" type="1"><li>修改完成后保存。</li></ol><h3 id="二注册账号">二、注册账号</h3><p>提前想好自己的用户名是什么，密码不要太复杂，邮箱也可以先忽略，申请权限的理由（见后文）也提前写好。当务之急是把账号注册出来，密码、邮箱和各种设置可以等事后挂梯子慢慢改。</p><ol type="1"><li>让翻墙软件继续开启翻墙模式，浏览器地址栏手工输入<code>https://zh.wikipedia.org</code>，打开维基百科首页。</li><li>首页加载完成后，点击右上角的三个点图标，从弹出的菜单中点击“贡献”链接。进入贡献页面后，你应该能看到一个或两个大红框，显示“IP地址被封禁”，这表示你不能在翻墙的时候注册账号。假如没有“IP地址被封禁”的提示，这说明你运气好，可以直接注册账号，然后进入下面的“三、申请IP封禁豁免权”。</li><li>这时候，<strong>不要关闭维基百科的浏览器窗口和标签，也不要再打开新窗口，而且要确保后面操作迅速，不要拖拉</strong>。</li><li>关闭翻墙模式，然后回到维基百科网站，重新点击“贡献”菜单，你应该会发现，维基百科网站仍然能访问，而且IP地址变成了真实地址，大红框也消失了。</li><li>直接点击右上角的“创建账号”链接，输入账号信息，此时应该可以注册成功了。</li></ol><p>注意：</p><ol type="1"><li>如果关闭翻墙模式后，浏览器提示“连接已重置”，说明墙已经监测到你在尝试登录维基百科，需要换个网络或者改天再试。</li><li>如果第二次进入贡献页面，发现IP被封禁的大红框未消失，而且IP地址是你的真实地址，不是翻墙节点的IP地址，那么需要换个网络再试。</li></ol><h3 id="三申请ip封禁豁免权">三、申请IP封禁豁免权</h3><p>注册成功之后，维基账号的操作还没结束，因为你挂上梯子之后，你可以看，但是不能编辑，所以要让管理员给你增加权限。</p><p>这时马上点击右上角的用户图标，在弹出的菜单中选择“留言”链接，系统会进入<code>讨论：</code>的页面。点击右侧的“添加话题”按钮，然后按照下面的格式进行申请。</p><ul><li>主题：<code>封禁申诉</code></li><li>描述：<code>&#123;&#123;unblock|我是中国大陆用户，需要使用翻墙软件来登录维基百科，但是翻墙之后账号被封禁无法编辑，按照维基里教程直连又非常不稳定，因此希望申请IP封禁豁免权限，以便翻墙编辑。&#125;&#125;</code></li></ul><p>注意请用自己的话重新编写理由，直接粘贴本文内容有可能被拒。代码正确的话，下方会显示一个蓝色的申诉框，框内会显示你的申请理由，这是你的代码的实际展示效果。</p><p>操作完成后，点击下面的“添加话题”按钮，系统会提交数据。管理员看到你的申请之后，就会帮你审批并且授权，在此之前你需要耐心等待。</p><p>提交申诉后，注册账号的流程就结束了，你也可以重新开翻墙软件了。</p><h2 id="注册后注意事项">注册后注意事项</h2><p>新手一定要注意以下内容，以免辛辛苦苦注册出来的账号被管理员给封号。</p><h3 id="关于账号权限">关于账号权限</h3><ol type="1"><li>系统会自动取消不活跃用户的权限，当你失去这个权限之后，你挂梯子时又会被禁止编辑。系统的判断方法是距最后一次编辑时间满6个月，因此每6个月之内要至少做一笔编辑，内容随便。</li><li>系统会对新用户有一些限制，满50次编辑后解除，但是这50次最好是一些有意义的修改，例如修改词条里的错别字和语病，而且不要刷次数，否则容易被管理员封号。</li></ol><h3 id="关于词条编写">关于词条编写</h3><ol type="1"><li>维基百科的规则非常复杂，且中文维基百科对新用户不太友好，因此不要贸然去写新词条。最好先熟悉现有词条的编写风格，学习代码的语法，并且了解一些基本的规则，然后再模仿一些主题相似的内容来编写词条。</li><li>不要直接复制粘贴其他网站内容，否则会被管理员直接删掉，反复粘贴还会被封号。不过你可以稍微改改用词，换换语气，用自己的话来改写，这样就不算“侵权”了。</li><li>不要改变代码里的简繁体，如果代码里原来用的是繁体字，你把它改成了简体，或者反过来把简体字改成了繁体字，你也会被警告或封号。</li><li>维基百科对配图的要求又多又复杂，因此在熟悉规则之前，不要给词条配图（以及音视频素材），以免图片被删、账号被封。</li></ol><h3 id="关于中国政治">关于中国政治</h3><p>如果你不清楚翻墙之后的政治生态，或者认为翻墙之后（或翻墙之前）看到的内容是错误的，或者看到某类政治观点后情绪激动，那么请不要编辑政治方面的词条，更不要情绪激动地与其他用户辩论。这种情况管理员见得太多了，所以他们可能会直接封你的号。</p><p>如果你坚信翻墙之后看到的政治内容都是错误的，而且要坚持修正维基百科的内容，那么你的修改基本上会被其他地区的用户给改回去，而且你也很快会被管理员封号。这种情况下可以考虑去<span class="exturl" data-url="aHR0cHM6Ly9xaXV3ZW4ud2lraS8=">求闻百科<i class="fa fa-external-link-alt"></i></span>注册账号，这个不用翻墙，里面的政治内容已经被修正，而且其他知识和维基百科是基本一致的。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;span class=&quot;exturl&quot; data-url=&quot;aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvSGVscDolRTUlQTYlODIlRTQlQkQlOTUlRTglQUUlQkYlRTklOTclQUUlRTclQkIlQjQlRTUlOUYlQkElRTclOTklQkUlRTclQTclOTE=&quot;&gt;中文维基百科提供了官方的操作教程&lt;i class=&quot;fa fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt;，但是教程出于多样性考虑，内容比较繁杂，而且对操作者的技术水平要求非常高，因此这里重新写一个简单可行的操作教程。&lt;/p&gt;</summary>
    
    
    
    <category term="教程" scheme="https://plusnan.me/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="维基百科" scheme="https://plusnan.me/tags/%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91/"/>
    
  </entry>
  
  <entry>
    <title>在Java中运行ES6代码</title>
    <link href="https://plusnan.me/2023/05/10/javet/"/>
    <id>https://plusnan.me/2023/05/10/javet/</id>
    <published>2023-05-09T16:00:00.000Z</published>
    <updated>2024-03-04T01:02:26.815Z</updated>
    
    <content type="html"><![CDATA[<p>Java自带Nashorn引擎，可以在Java程序中运行JavaScript代码，从而<ahref="/2022/06/08/dynamic-controller">实现可灵活配置动态接口</a>。然而Nashorn引擎只支持老旧的语法，不支持ES6或更新的东西，而且在较新的Java中也已停止支持，因此本文选择替代品<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2Nhb2NjYW8vSmF2ZXQ=">Javet<i class="fa fa-external-link-alt"></i></span>。</p><p>Javet是一个能够整合Java与Node.js的库，使开发人员可以很方便地调用ES6的代码。</p><span id="more"></span><h2 id="引入javet">引入Javet</h2><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2Nhb2NjYW8vSmF2ZXQ=">官方仓库<i class="fa fa-external-link-alt"></i></span>指出了具体的方法。例如使用Maven时需要在pom.xml中加入：</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!-- Linux and Windows (x86_64) --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.caoccao.javet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>javet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- Linux (arm64) --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.caoccao.javet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>javet-linux-arm64<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- Mac OS (x86_64 and arm64) --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.caoccao.javet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>javet-macos<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="调用javascript代码">调用JavaScript代码</h2><h3 id="普通调用">普通调用</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">runJsCode</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">JavetException</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">Object</span> result <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">V8Runtime</span> v8Runtime <span class="token operator">=</span> <span class="token class-name">V8Host</span><span class="token punctuation">.</span><span class="token function">getV8Instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createV8Runtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">JavetProxyConverter</span> javetProxyConverter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JavetProxyConverter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        v8Runtime<span class="token punctuation">.</span><span class="token function">setConverter</span><span class="token punctuation">(</span>javetProxyConverter<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// TODO 可在这里引入Java对象，以便作为js的全局变量使用</span>        v8Runtime<span class="token punctuation">.</span><span class="token function">getGlobalObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"XXXUtil"</span><span class="token punctuation">,</span> xxxUtil<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">V8Value</span> val <span class="token operator">=</span> v8Runtime<span class="token punctuation">.</span><span class="token function">getExecutor</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        result <span class="token operator">=</span> <span class="token function">parseV8Value</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">private</span> <span class="token class-name">Object</span> <span class="token function">parseV8Value</span><span class="token punctuation">(</span><span class="token class-name">V8Value</span> val<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">JavetException</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueString</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">V8ValueString</span><span class="token punctuation">)</span> val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueBigInteger</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">V8ValueBigInteger</span><span class="token punctuation">)</span> val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueBoolean</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">V8ValueBoolean</span><span class="token punctuation">)</span> val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueDouble</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">V8ValueDouble</span><span class="token punctuation">)</span> val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueInteger</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">V8ValueInteger</span><span class="token punctuation">)</span> val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueLong</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">V8ValueLong</span><span class="token punctuation">)</span> val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueArray</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// TODO 根据需要进行处理</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">V8ValueArray</span><span class="token punctuation">)</span> val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueObject</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// TODO 根据需要进行处理</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">V8ValueObject</span><span class="token punctuation">)</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// TODO 根据需要进行处理</span>    <span class="token keyword">return</span> val<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>使用时调用<code>runJsCode("js代码")</code>即可，返回值为Java对象。但由于JS的数组和Object灵活性较强，本程序仍返回Javet的对象，编码时应考虑根据实际需求进行处理。</p><h3 id="将对象转为json">将对象转为JSON</h3><p>如果用于JSON，例如<ahref="/2022/06/08/dynamic-controller">配置动态接口</a>，将上述代码返回的对象直接转成JSON，结果可能会出错，因此需要在转JSON之前做一些加工处理。</p><p>为便于处理JSON，下面引入了Hutool，因此需要在pom.xml中引入：</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>cn.hutool<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>hutool-all<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.6.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>上面代码的runJsCode不变，对parseV8Value进行修改，替换成下面的代码：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">private</span> <span class="token class-name">Object</span> <span class="token function">parseV8Value</span><span class="token punctuation">(</span><span class="token class-name">V8Value</span> val<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">JavetException</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">V8Scope</span> v8Scope <span class="token operator">=</span> val<span class="token punctuation">.</span><span class="token function">getV8Runtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getV8Scope</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        v8Scope<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>        val <span class="token operator">=</span> <span class="token function">parseV8ValueToBasic</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> v8Scope<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueString</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">V8ValueString</span><span class="token punctuation">)</span> val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueBigInteger</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">V8ValueBigInteger</span><span class="token punctuation">)</span> val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueBoolean</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">V8ValueBoolean</span><span class="token punctuation">)</span> val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueDouble</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Double</span> d <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">V8ValueDouble</span><span class="token punctuation">)</span> val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 无穷大和NaN转JSON会报错，这里直接返回null</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">isInfinite</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> d<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                d <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> d<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueInteger</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">V8ValueInteger</span><span class="token punctuation">)</span> val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueLong</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">V8ValueLong</span><span class="token punctuation">)</span> val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueArray</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">V8ValueArray</span><span class="token punctuation">)</span> val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toJsonString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>json<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"TypeError"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token class-name">JSONUtil</span><span class="token punctuation">.</span><span class="token function">parseArray</span><span class="token punctuation">(</span>json<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueTypedArray</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">V8ValueTypedArray</span><span class="token punctuation">)</span> val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toJsonString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>json<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"TypeError"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token class-name">JSONUtil</span><span class="token punctuation">.</span><span class="token function">parseObj</span><span class="token punctuation">(</span>json<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueObject</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">V8ValueObject</span><span class="token punctuation">)</span> val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toJsonString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>json <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>json<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"TypeError"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token class-name">JSONUtil</span><span class="token punctuation">.</span><span class="token function">parseObj</span><span class="token punctuation">(</span>json<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// 其他类型无法转成JSON，直接返回null</span>        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">private</span> <span class="token class-name">V8Value</span> <span class="token function">parseV8ValueToBasic</span><span class="token punctuation">(</span><span class="token class-name">V8Value</span> val<span class="token punctuation">,</span> <span class="token class-name">V8Scope</span> v8Scope<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">JavetException</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueString</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> val<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueBigInteger</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> val<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueBoolean</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> val<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueDouble</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> val<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueInteger</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> val<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueLong</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// 处理js中Number与Java中Double的差异</span>        <span class="token class-name">Long</span> u <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">V8ValueLong</span><span class="token punctuation">)</span> val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>u <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> v8Scope<span class="token punctuation">.</span><span class="token function">createV8ValueNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">long</span> v <span class="token operator">=</span> u<span class="token punctuation">.</span><span class="token function">longValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">&lt;=</span> <span class="token number">9007199254740991L</span> <span class="token operator">&amp;&amp;</span> v <span class="token operator">>=</span> <span class="token operator">-</span><span class="token number">9007199254740991L</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> v8Scope<span class="token punctuation">.</span><span class="token function">createV8ValueDouble</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> val<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueProxy</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// 将Java对象实例变成JS对象，进而方便转JSON</span>        <span class="token class-name">V8ValueProxy</span> proxy <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">V8ValueProxy</span><span class="token punctuation">)</span> val<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>proxy<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">"getClass"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> proxy<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">"hashCode"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> proxy<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">"equals"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> proxy<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">"toString"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> proxy<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">"notify"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> proxy<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">"notifyAll"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> proxy<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">"wait"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">V8ValueObject</span> v8ValueObject <span class="token operator">=</span> v8Scope<span class="token punctuation">.</span><span class="token function">createV8ValueObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Class</span> clz <span class="token operator">=</span> proxy<span class="token punctuation">.</span><span class="token function">invokeObject</span><span class="token punctuation">(</span><span class="token string">"getClass"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 获取对象的getter并进行调用</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Method</span> method <span class="token operator">:</span> clz<span class="token punctuation">.</span><span class="token function">getMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">getParameterCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token class-name">Modifier</span><span class="token punctuation">.</span><span class="token function">isStatic</span><span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">getModifiers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token class-name">String</span> methodName <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token class-name">String</span> propertyName <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>methodName<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token constant">METHOD_PREFIX_IS</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token constant">EXCLUDED_METHODS</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>methodName<span class="token punctuation">)</span>                            <span class="token operator">&amp;&amp;</span> methodName<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token constant">METHOD_PREFIX_IS</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        propertyName <span class="token operator">=</span> methodName<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token constant">METHOD_PREFIX_IS</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">METHOD_PREFIX_IS</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token constant">ROOT</span><span class="token punctuation">)</span>                                <span class="token operator">+</span> methodName<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token constant">METHOD_PREFIX_IS</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>methodName<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token constant">METHOD_PREFIX_GET</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token constant">EXCLUDED_METHODS</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>methodName<span class="token punctuation">)</span>                            <span class="token operator">&amp;&amp;</span> methodName<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token constant">METHOD_PREFIX_GET</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        propertyName <span class="token operator">=</span> methodName<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token constant">METHOD_PREFIX_GET</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">METHOD_PREFIX_GET</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token constant">ROOT</span><span class="token punctuation">)</span>                                <span class="token operator">+</span> methodName<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token constant">METHOD_PREFIX_GET</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>propertyName <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token class-name">V8Value</span> newVal <span class="token operator">=</span> proxy<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>methodName<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            v8Scope<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span><span class="token punctuation">;</span>                            newVal <span class="token operator">=</span> <span class="token function">parseV8ValueToBasic</span><span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> v8Scope<span class="token punctuation">)</span><span class="token punctuation">;</span>                            v8ValueObject<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>propertyName<span class="token punctuation">,</span> newVal<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> v8ValueObject<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueArray</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">V8ValueArray</span> arr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">V8ValueArray</span><span class="token punctuation">)</span> val<span class="token punctuation">;</span>        <span class="token comment">// 递归处理每个元素</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">V8Value</span> u <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">V8Value</span> v <span class="token operator">=</span> <span class="token function">parseV8ValueToBasic</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> v8Scope<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>u <span class="token operator">!=</span> v<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                arr<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> arr<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueTypedArray</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">V8ValueTypedArray</span> arr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">V8ValueTypedArray</span><span class="token punctuation">)</span> val<span class="token punctuation">;</span>        <span class="token class-name">V8ValueArray</span> arr2 <span class="token operator">=</span> v8Scope<span class="token punctuation">.</span><span class="token function">createV8ValueArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 递归处理每个元素</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">V8Value</span> u <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">V8Value</span> v <span class="token operator">=</span> <span class="token function">parseV8ValueToBasic</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> v8Scope<span class="token punctuation">)</span><span class="token punctuation">;</span>            arr2<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> arr2<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">V8ValueObject</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">V8ValueObject</span> obj <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">V8ValueObject</span><span class="token punctuation">)</span> val<span class="token punctuation">;</span>        <span class="token comment">// 递归处理每个元素</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> key <span class="token operator">:</span> obj<span class="token punctuation">.</span><span class="token function">getOwnPropertyNameStrings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">V8Value</span> u <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">V8Value</span> v <span class="token operator">=</span> <span class="token function">parseV8ValueToBasic</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> v8Scope<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>u <span class="token operator">!=</span> v<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                obj<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> obj<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// 其他类型（例如Function）无法转成JSON，直接返回null</span>    <span class="token keyword">return</span> v8Scope<span class="token punctuation">.</span><span class="token function">createV8ValueNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>以上代码还有一些缺陷，例如Java对象不是VO类型的类，转换时候就会出问题，不过现在的代码对于转JSON这种需求来说够用了。</p><h2 id="docker报错处理">Docker报错处理</h2><p>如果将应用部署到Docker中，代码可能会无法正常执行：</p><pre class="line-numbers language-none"><code class="language-none">com.caoccao.javet.exceptions.JavetException: Javet library is not loaded because &lt;null&gt;    at com.caoccao.javet.interop.JavetClassLoader.load(JavetClassLoader.java:93)    at com.caoccao.javet.interop.V8Host.loadLibrary(V8Host.java:418)    at com.caoccao.javet.interop.V8Host.&lt;init&gt;(V8Host.java:67)    at com.caoccao.javet.interop.V8Host.&lt;init&gt;(V8Host.java:43)    at com.caoccao.javet.interop.V8Host$V8InstanceHolder.&lt;clinit&gt;(V8Host.java:459)    at com.caoccao.javet.interop.V8Host.getV8Instance(V8Host.java:119)    ……Caused by: java.lang.reflect.InvocationTargetException    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)    at java.lang.reflect.Method.invoke(Method.java:498)    at com.caoccao.javet.interop.JavetClassLoader.load(JavetClassLoader.java:88)    ... 170 moreCaused by: com.caoccao.javet.exceptions.JavetException: Failed to read &#x2F;tmp&#x2F;javet&#x2F;1&#x2F;libjavet-v8-linux-x86_64.v.3.0.1.so    at com.caoccao.javet.interop.loader.JavetLibLoader.load(JavetLibLoader.java:375)    ... 175 moreCaused by: java.lang.UnsatisfiedLinkError: &#x2F;tmp&#x2F;javet&#x2F;1&#x2F;libjavet-v8-linux-x86_64.v.3.0.1.so: &#x2F;lib&#x2F;x86_64-linux-gnu&#x2F;libc.so.6: version &#96;GLIBC_2.33&#39; not found (required by &#x2F;tmp&#x2F;javet&#x2F;1&#x2F;libjavet-v8-linux-x86_64.v.3.0.1.so)    at java.lang.ClassLoader$NativeLibrary.load(Native Method)    at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1934)    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1817)    at java.lang.Runtime.load0(Runtime.java:810)    at java.lang.System.load(System.java:1088)    at com.caoccao.javet.interop.loader.JavetLibLoader.load(JavetLibLoader.java:360)    ... 175 more<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>这是因为选择了alpine或slim版本的映像，容器里面缺少glibc，因此需要将image换成完整版，例如<code>openjdk:8</code>。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Java自带Nashorn引擎，可以在Java程序中运行JavaScript代码，从而&lt;a
href=&quot;/2022/06/08/dynamic-controller&quot;&gt;实现可灵活配置动态接口&lt;/a&gt;。然而Nashorn引擎只支持老旧的语法，不支持ES6或更新的东西，而且在较新的Java中也已停止支持，因此本文选择替代品&lt;span class=&quot;exturl&quot; data-url=&quot;aHR0cHM6Ly9naXRodWIuY29tL2Nhb2NjYW8vSmF2ZXQ=&quot;&gt;Javet&lt;i class=&quot;fa fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt;。&lt;/p&gt;
&lt;p&gt;Javet是一个能够整合Java与Node.js的库，使开发人员可以很方便地调用ES6的代码。&lt;/p&gt;</summary>
    
    
    
    <category term="记录" scheme="https://plusnan.me/categories/%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="Java" scheme="https://plusnan.me/tags/Java/"/>
    
    <category term="Javet" scheme="https://plusnan.me/tags/Javet/"/>
    
    <category term="JavaScript" scheme="https://plusnan.me/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>对汽车“价格战”的一点看法</title>
    <link href="https://plusnan.me/2023/04/01/is-price-war-real/"/>
    <id>https://plusnan.me/2023/04/01/is-price-war-real/</id>
    <published>2023-03-31T16:00:00.000Z</published>
    <updated>2024-04-03T01:18:59.222Z</updated>
    
    <content type="html"><![CDATA[<p>今年3月份，从东风雪铁龙C6补贴9万开始，汽车市场仿佛开始了“价格战”。然而，汽车真的便宜了吗？</p><p><strong>本文纯属个人见解，与当下事件无关，如有雷同，纯属巧合。</strong></p><span id="more"></span><h2 id="关于雪铁龙降9万">关于雪铁龙降9万</h2><p>哇塞，优惠居然这么大！是真的吗？</p><p>是的，但是，如果你不熟悉汽车，可以去大街上留意一下：雪铁龙的车标是两个尖（类似︽符号），可是大街上有几辆带两个尖的车呢？在这些车里面，又有几辆是新车呢？</p><p>雪铁龙本来就是没什么人买的车（新车），再加上一下子降了最高9万（实际可能不到9万），可能是因为什么原因根本没卖出去的车。这种车不可能太多的，当然售完为止。其他法系车例如标致同理。</p><p>另外某些商家有一种操作方法，说什么东西大幅降价，当你过去买的时候，“卖没了，看看别的吧”，其实根本没卖过，只是一种引流策略而已。</p><p>后续：<span class="exturl" data-url="aHR0cHM6Ly9tLnlpY2FpLmNvbS9uZXdzLzEwMTc5OTY1My5odG1s">车主需全款买车，然而补贴一直没有到位<i class="fa fa-external-link-alt"></i></span></p><h2 id="关于20万买奥迪">关于20万买奥迪</h2><p>奥迪给人的印象是豪车。如今豪车已经卖不动，居然用20万就能搞定？</p><p>当然了！但是，奥迪A3，加上做汽车金融操作。</p><p>奥迪A3是什么？是奥迪里面配置最低的车型，俗称“乞丐车”，跟一般人眼里的奥迪A6、A8完全不是一个档次，甚至不如同样容易遭歧视的奥迪A4（落地价大约30左右）。就算你把车屁股上的A3字样抠掉，再贴个quattro，稍有常识的人都会看出，这只是辆想装大款的乞丐A3。</p><p>汽车金融是什么？分期，贷款。由于贷款或分期，4S店能挣到提成，而全款挣不到提成，所以很多4S店会对全款买车的车主表示反感，甚至分期买车的最后给你举办个隆重的交车仪式，而全款买车的完事了直接让你滚蛋。然而选择贷款或分期，车辆名义上的价格下降了，但是会出现利息和各种杂七杂八而且不得不交的费用，而且因为汽车被抵押出去了，你手里没有绿本（机动车登记证书），所以他们想怎么要挟你，就能怎么要挟你，结果会导致实际花销比全款高。</p><p>想用20万搞定四个圈的A6 55quattro（高配车型，落地大约55万）？还是去二手市场找找八手车吧！不想转那么多手？开出去随时可能抛锚的事故车，或者死过人的魂环车也是可以的！</p><h2 id="关于大幅优惠大幅让利">关于大幅优惠、大幅让利</h2><p>没买过车的，看到“终端优惠4万”，会觉得厂商让利很大。但是真的很大吗？</p><p>所以我们一定要先了解汽车的各种价格的概念：</p><ul><li>裸车价：裸车价是由4S店开出的价格，是汽车本身的价格。然而只买车，车是不能挂牌上路的，所以还需要一系列税费和手续费。</li><li>落地价：落地价是<strong>你的真实花销</strong>，落地价=裸车价+购置税+保险费用+各种其他费用。鉴于一般群众买不起豪车，如果你懒得计算，可以粗暴地认为落地价=裸车价+2～3万。</li><li>指导价：由厂商提出的售价，不是真实价格。</li><li>优惠：优惠是4S店在指导价基础上做出的优惠。</li></ul><p>需要注意的是，汽车的指导价是厂商提出的，本身就会虚高几万，而4S店平时就会把这几万给降下去，从来不会真的按指导价来卖车。在这个前提之下，他们提出的所谓“优惠”，也是在这个虚标的价格上做的优惠，不是在真实价格上的做的优惠，跟平时一模一样，所以实际上还是相当于没有优惠。</p><p>还需要注意三种情况：</p><ul><li>有的汽车真的降价了，但要么是杂牌车，要么是冷门车，再过几年连车厂都可能倒闭了，找周围懂车的人问一问，根本没几个人想买。</li><li>有的汽车真的降价了，但是同一型号有高中低配置版本之分，他们给低配降得多，中高配降得少或几乎不降。你以为捡到了便宜，却发现低配功能不够用，比方说连个倒车影像都没有，像那个传说中的3万块钱的五菱mini，甚至连空调都没有。这样的话，想省钱就得受罪，想不受罪的实际上根本没省几个钱。这也是商家的一种引流套路。</li><li>有的汽车真的降价了，而且低中高配都降价了，降得也不少。你以为捡到了便宜，但是，需要进行汽车金融操作，也就是按照厂商的要求进行贷款或分期才能享受优惠。表面上看省钱了，但是要交利息和各种费用，就算“免息”也会用其他形式收你的钱，所以实际上不仅不省钱，还要比全款买车多花不少钱。</li></ul><p>对于大众、本田这种根本不愁卖不出去的品牌，其实他们完全没有必要去降价。但是，为了不在“价格战”里吃亏，厂商可以做出一种优惠的感觉，通过调整指导价，然后再调整终端优惠和一系列“工时费”，让你以为便宜了不少，然而落地价还是那么多。如果你能回到过去，你会发现“价格战”前后落地价都是一个样子。</p><p>2022年因为疫情影响经济，出台了购置税减半的政策。那么当时买能省钱吗？并没有！只要4S店稍微做一些操作，就可以让你感觉到自己享受到了国家的优惠，然而落地价却一分都没少。</p><h2 id="所以">所以……</h2><p>需要买车的，该买就买，可以稍微等等出新款之前4S店便宜处理的旧款库存车，但是没必要特意等“价格战”，也没必要去费太大力气讲价；</p><p>不需要买车的，别因为出现所谓的“利好”政策，或者发生所谓的“价格战”就草率入场，也许车市有“崩”的迹象，但是车价并没有真的变便宜。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;今年3月份，从东风雪铁龙C6补贴9万开始，汽车市场仿佛开始了“价格战”。然而，汽车真的便宜了吗？&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;本文纯属个人见解，与当下事件无关，如有雷同，纯属巧合。&lt;/strong&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="闲谈" scheme="https://plusnan.me/categories/%E9%97%B2%E8%B0%88/"/>
    
    
  </entry>
  
  <entry>
    <title>学习反向思考</title>
    <link href="https://plusnan.me/2023/03/12/reverse-thinking/"/>
    <id>https://plusnan.me/2023/03/12/reverse-thinking/</id>
    <published>2023-03-11T16:00:00.000Z</published>
    <updated>2024-03-05T13:24:37.264Z</updated>
    
    <content type="html"><![CDATA[<p>很多事情是反直觉的：你觉得可能是这样，但情况可能是另一个样子。本文用最近的几个例子来说明一下。</p><span id="more"></span><h2 id="说明">说明</h2><p>本文希望读者去掌握一种思维模式，所以着重于指出一种“可能性”，不代表观点正确或错误，正所谓“大胆思考，小心论证”。</p><h2 id="案例一居民存款大幅增加">案例一：居民存款大幅增加</h2><p>中国央行2023年1月份数据指出，当月人民币存款增加6.87万亿元，其中住户存款增加6.2万亿元，创历史同期新高。</p><p>居民存款大幅增加，是因为大家都挣到钱，收入提高了吗？很明显，经过疫情冲击，很多人收入下降，甚至失去收入，都不敢花钱了，所以大家都在储蓄，使得存款增加。</p><p>接下来，我们再稍微思考一下：只是不花钱，存款能大幅增加吗？</p><p>存款是怎么来的呢？挣钱了，把钱存下来，就有了存款。</p><p>然而存款只是财产的一种形式，如果把其他形式的资产变成存款，存款也是能增加的，例如抛售股票、赎回理财产品等。贷款套现也能增加存款，只是将来要把钱连同利息一起还回去而已。</p><h2 id="案例二平均工资提高">案例二：平均工资提高</h2><p>根据国家统计局发布的数据，2022年，全国城镇非私营单位就业人员年平均工资为114029元，比上年增加7192元，名义增长6.7%，增速比上年回落3个百分点，扣除价格因素实际增长4.6％。</p><p>平均工资提高，真的是因为大家收入提高了吗？为什么只有我拖了平均值后腿呢？</p><p>我们稍微思考一下，平均工资是怎样计算的。</p><p>假设有100个人，其中90个穷光蛋，每月收入1000块钱，剩下10个有钱人，每月收入100000元，那么他们的平均收入就是</p><p><span class="math display">\[ \frac{1000 \times 90 + 100000 \times10}{100} = 10900 \]</span></p><p>假如这90个穷光蛋中有30人失业了，剩下的穷光蛋每月收入降低到900元，有钱人们虽然没丢掉工作，但是统统降了薪，收入降到了80000元，那么他们的平均收入就变成了</p><p><span class="math display">\[ \frac{900 \times (90 - 30) + 80000\times 10}{100 - 30} = 12200 \]</span></p><p>你看，虽然大家都没挣到钱，但是大家的平均工资竟然提高了 <spanclass="math inline">\(\frac{12200 - 10900}{10900} = 11.9\%\)</span>！</p><h2 id="案例三国产新能源车畅销">案例三：国产新能源车畅销</h2><p>2022年，国产新能源汽车交付数量创下纪录，其中的头部品牌甚至被称为“新势力”。</p><p>我们去汽车网站上搜索一下“新势力”的代表，“蔚小理”（蔚来、小鹏、理想），可以发现这些品牌的汽车价格多在三四十万级别。</p><p>30万的车，5成首付、贷款两年的话，月供要超过6000元。加上房贷的话，实际月供甚至要超过上万元。这些昂贵的车也能畅销，是因为大家都有钱，或者敢贷款吗？</p><p>我们稍微思考一下，如果不是大家有钱了，而是大家没钱了呢？</p><p>假如我们为了装逼而买车，当然会挑豪华品牌，例如上百万的保时捷、玛莎拉蒂。没有那么多钱，所以才挑几十万的进口版的奥迪、奔驰、宝马。再没钱，就只好找稍微便宜一些的国产版，或者换雷克萨斯、凯迪拉克之类的二线豪华品牌了。再没钱，还可以二手车甚至带魂环的车。</p><p>近些年收入不好，买40多万的奔驰GLC，再加上每个月上千块的油钱，感觉稍微有点吃力，但是国产电车配置比奔驰高，开出去又有面，关键是比奔驰有性价比，为什么不买呢？</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;很多事情是反直觉的：你觉得可能是这样，但情况可能是另一个样子。本文用最近的几个例子来说明一下。&lt;/p&gt;</summary>
    
    
    
    <category term="闲谈" scheme="https://plusnan.me/categories/%E9%97%B2%E8%B0%88/"/>
    
    
    <category term="思考" scheme="https://plusnan.me/tags/%E6%80%9D%E8%80%83/"/>
    
  </entry>
  
</feed>
